ACTOR LunaPlayer : PlayerPawn
{
	Health 5000
	Player.MaxHealth 5000
	PainChance 128
	Player.DisplayName "Princess Luna"
	Player.CrouchSprite "PLYC"
	Player.SoundClass "luna"
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY A 1
		Loop
	Crouch:
		PLYC A 1
		Loop
	LookDown:
		SPOS V 1
		Loop
	See:
		PLAY B 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY B 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY B 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY C 1
		PLAY D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY D 1
		PLAY E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY E 1
		PLAY F 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY F 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY F 1
		PLAY G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY G 1
		PLAY H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY H 1
		PLAY I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY I 1
		PLAY J 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY J 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY J 1
		PLAY K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY K 1
		PLAY L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY L 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY M 1
		PLAY N 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY N 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY N 1
		PLAY O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY O 1
		PLAY P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY P 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY P 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY P 1
		PLAY Q 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY Q 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY Q 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY Q 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Q 1
		PLAY R 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY R 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY R 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY R 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY R 1
		PLAY S 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY S 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY S 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY S 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY S 1
		PLAY T 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY T 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY T 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY T 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY T 1
		PLAY U 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY U 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY U 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 11, "Run")
		PLAY U 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY U 1
		Loop
	Run:
		PLAY V 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY V 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY V 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY V 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY V 1
		PLAY V 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY V 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY V 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY V 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY V 1
		PLAY W 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY W 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY W 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY W 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY W 1
		PLAY W 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY W 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY W 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY W 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY W 1
		PLAY X 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY X 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY X 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY X 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY X 1
		PLAY X 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY X 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY X 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY X 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY X 1
		PLAY Y 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY Y 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY Y 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY Y 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Y 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY Z 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY Z 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY Z 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY Z 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Z 1
		PLAY Z 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		PLAY Z 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		PLAY Z 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		PLAY Z 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Z 1
		POSS A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS A 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS A 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS A 1
		POSS A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS A 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS A 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS A 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS A 1
		POSS B 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS B 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS B 1
		POSS C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS C 1
		POSS C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS C 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS C 1
		POSS D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS D 1
		POSS D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS D 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS D 1
		POSS E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS E 1
		POSS E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS E 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS E 1
		POSS F 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS F 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS F 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS G 1
		POSS G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS G 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS G 1
		POSS H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS H 1
		POSS H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS H 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS H 1
		POSS I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS I 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS I 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS I 1
		POSS J 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS J 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS J 1
		POSS K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS K 1
		POSS K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS K 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS K 1
		POSS L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS L 1
		POSS L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS L 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS L 1
		POSS M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS M 1
		POSS M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS M 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS M 1
		POSS N 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS N 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS N 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS O 1
		POSS O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS O 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS O 1
		POSS P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS P 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS P 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS P 1
		POSS P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) > 0, "Jump")
		POSS P 0 A_JumpIf(CallACS("GetVelocityZ", 0, 0, 0, 0) < -8, "Fall")
		POSS P 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 11, "See")
		POSS P 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS P 1
		Loop
	Jump:
		POSS Q 0 A_CheckFloor("Fall")
		POSS Q 1
		POSS R 0 A_CheckFloor("Fall")
		POSS R 1
		POSS S 0 A_CheckFloor("Fall")
		POSS S 1
		POSS T 0 A_CheckFloor("Fall")
		POSS T 1
		POSS U 0 A_CheckFloor("Fall")
		POSS U 1
		POSS U 0 A_CheckFloor("Fall")
		POSS U 1
		POSS V 0 A_CheckFloor("Fall")
		POSS V 1
		POSS W 0 A_CheckFloor("Fall")
		POSS W 1
		POSS X 0 A_CheckFloor("Fall")
		POSS X 1
		POSS Y 0 A_CheckFloor("Fall")
		POSS Y 1
		POSS Z 0 A_CheckFloor("Fall")
		POSS Z 1
		POSS Z 0 A_CheckFloor("Fall")
		POSS Z 1
		SPOS A 0 A_CheckFloor("Fall")
		SPOS A 1
		SPOS B 0 A_CheckFloor("Fall")
		SPOS B 1
		SPOS C 0 A_CheckFloor("Fall")
		SPOS C 1
		SPOS D 0 A_CheckFloor("Fall")
		SPOS D 1
		SPOS E 0 A_CheckFloor("Fall")
		SPOS E 1
		SPOS E 0 A_CheckFloor("Fall")
		SPOS E 1
		SPOS F 0 A_CheckFloor("Fall")
		SPOS F 1
		SPOS G 0 A_CheckFloor("Fall")
		SPOS G 1
		SPOS H 0 A_CheckFloor("Fall")
		SPOS H 1
		SPOS I 0 A_CheckFloor("Fall")
		SPOS I 1
		SPOS J 0 A_CheckFloor("Fall")
		SPOS J 1
		SPOS J 0 A_CheckFloor("Fall")
		SPOS J 1
		SPOS K 0 A_CheckFloor("Fall")
		SPOS K 1
		SPOS L 0 A_CheckFloor("Fall")
		SPOS L 1 
		SPOS M 0 A_CheckFloor("Fall")
		SPOS M 1
		SPOS N 0 A_CheckFloor("Fall")
		SPOS N 1
		SPOS O 0 A_CheckFloor("Fall")
		SPOS O 1
		SPOS O 0 A_CheckFloor("Fall")
		SPOS O 1
		SPOS P 0 A_CheckFloor("Fall")
		SPOS P 1
		SPOS Q 0 A_CheckFloor("Fall")
		SPOS Q 1
		SPOS R 0 A_CheckFloor("Fall")
		SPOS R 1
		SPOS S 0 A_CheckFloor("Fall")
		SPOS S 1
		SPOS T 0 A_CheckFloor("Fall")
		SPOS T 1
		SPOS T 0 A_CheckFloor("Fall")
		SPOS T 1
		Goto Fall
	Fall:
		SPOS U 0 A_JumpIf(velz == 0, "Spawn")
		SPOS U 1
		Loop
	Sleep:
		SPOS W 1
		Loop
	LookRight:
		SPOS X 1
		Loop
	LookLeft:
		SPOS Y 1
		Loop
	Pain:
		PLAY A 4
		TNT1 A 0 A_Pain
		Goto Spawn
	Death:
		SPOS Z 3 A_NoBlocking
		TROO A 3 A_PlayerScream
		TROO BCDEF 3
		TROO G 0 A_PlaySoundEx("bodydrop3", body)
		TROO GHI 2
		TROO J -1
		Stop
	}		
}

actor LunaFootstep
{
	PROJECTILE
	+NOBLOOD
	damage 0
	radius 10
	Speed 20
	+CLIENTSIDEONLY
	+NOTIMEFREEZE
	+DONTSPLASH
	DeathSound "Pony/Movement/Step_Shoes"
	States
	{
	Spawn:
		TNT1 A 1
		Stop
	Death:
		TNT1 A 0 A_Scream
		TNT1 A 1
		Stop
	}
}

actor PonyFootstep : LunaFootstep
{
	DeathSound ""
	-DONTSPLASH
	States
	{
	Death:
		TNT1 A 1
		Stop
	}
}

actor Footstep : LunaFootstep
{
	DeathSound "Player/Movement/Step"
}

actor Dynamic_Blood : Blood replaces Blood
{
	+DONTSPLASH
	Game Doom
	States
	{
	Spawn:
		BLUD C 8
		BLUD B 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		BLUD A 8
		Stop
	}
}

actor Dynamic_FlyingBlood
{
	game Doom
	scale 0.75
	health 1
	radius 8
	height 1
	mass 1
	+CORPSE +NOTELEPORT +NOBLOCKMAP +DONTSPLASH
	states
	{
	Spawn:
		TNT1 A 0
		FBLD A 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD A 1
		FBLD A 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD A 1
		FBLD B 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD B 1
		FBLD B 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD B 1
		FBLD C 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD C 1
		FBLD C 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD C 1
		FBLD D 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD D 1
		FBLD D 1 A_SpawnItem("Dynamic_FlyingBloodTrail",0,0,0,1)
		FBLD D 1
		loop
	Crash:
		TNT1 A 0 A_Playsound("blood/splat")
		TNT1 A 1 A_SpawnItem("Dynamic_BloodSpot",0,0,0,1)
		stop
	}
}

actor Dynamic_BloodSpot
{
	game Doom
	radius 12
	height 2
	mass 1
	+NOTELEPORT
	-NOBLOCKMAP
	+DONTSPLASH
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(64,4)
		TNT1 A 0 A_Jump(128,4)
		TNT1 A 0 A_Jump(192,4)
		TNT1 A 0 A_Jump(255,4)
		BSPT A 1500
		stop
		BSPT B 1500
		stop
		BSPT C 1500
		stop
		BSPT D 1500
		stop
	}
}

actor Dynamic_FlyingBloodTrail
{
	game Doom
	scale 0.70
	mass 1
	+LOWGRAVITY
	+NOTELEPORT
	+NOBLOCKMAP
	+DONTSPLASH
	states
	{
	Spawn:
		BTRL A 4
		BTRL B 4
		BTRL C 4
		BTRL D 4
		stop
	}
}

actor KnifePuff
{
	Scale 0.8
	Radius 0 Height 1 Speed 0
	PROJECTILE
	RENDERSTYLE Translucent
	ALPHA 0.5
	+PUFFONACTORS +LOOKALLAROUND +NOBLOCKMAP +NOGRAVITY +ALLOWPARTICLES +NOTELEPORT
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_PlaySound("knife/hit/body")
		Stop
	Crash:
		TNT1 A 0 A_SpawnDebris("WallSpark")
		TNT1 A 0 A_SpawnDebris("WallSpark")
		TNT1 A 0 A_PlaySound("knife/hit/wall")
		TNT1 A 12 bright
		Stop
	}

}

ACTOR WallSpark
{
	Health 4 radius 3 height 6 speed 0.01
	RenderStyle ADD
	Alpha 1
	Scale 0.16
	+missile
	+DOOMBOUNCE +FLOORCLIP +DONTSPLASH +NOTELEPORT
	States
	{
		SPAR AAAAAAAAAAAAAAAAAAAAAAAAA 1 bright A_FadeOut(0.04)
		Stop
	}
}

actor ExclamationBalloon
{
	Scale 0.75
	Radius 16
	Height 56
	+NOGRAVITY
	States
	{
	Spawn:
		EXCL ABC 6
		EXCL D 20
		Stop
	}
}

actor SilenceBalloon : ExclamationBalloon
{
	States
	{
	Spawn:
		EXCL A 6
		SILC AB 6
		SILC C 20
		Stop
	}
}

actor QuestionBalloon : ExclamationBalloon
{
	States
	{
	Spawn:
		EXCL A 6
		QUST ABAC 6
		QUST A 8
		Stop
	}
}

actor SweatBalloon : ExclamationBalloon
{
	States
	{
	Spawn:
		EXCL A 6
		SWET AAAB 6
		SWET B 8
		Stop
	}
}

actor rxGibGenerator_s
{ 
	States 
	{ 
	Spawn: 
		TNT1 A 0 
		TNT1 A 1 A_SpawnDebris("rxGib9s") 
		TNT1 A 0 A_Jump(128, 8) 
		TNT1 A 0 A_Jump(128, 4) 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib1")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib2")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib3")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib4")
		stop 
		TNT1 A 0 A_Jump(128, 4) 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib5")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib6")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib7")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib8")
		stop 
	} 
} 

actor RAWrxGib1
{
	scale 0.75
	health 1 mass 1
	radius 8 height 8
	scale 1.0
	-SOLID
	+CORPSE +NOTELEPORT +NOBLOCKMAP +CANNOTPUSH +EXPLODEONWATER
	+DONTSPLASH
	states
	{
	Death:
		TNT1 A -1
		stop
	}
}

actor rxGib1 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB1 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB1 A 0 A_PlaySound("gib/impact")
		GIB1 A 0 A_Jump(128, 2)
		GIB1 E -1
		stop
		GIB1 A -1
		stop
	}
}

actor rxGib2 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB2 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB2 A 0 A_PlaySound("gib/impact")
		GIB2 A 0 A_Jump(128, 2)
		GIB2 E -1
		stop
		GIB2 A -1
		stop
	}
}

actor rxGib3 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB3 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB3 A 0 A_PlaySound("gib/impact")
		GIB3 A 0 A_Jump(128, 2)
		GIB3 E -1
		stop
		GIB3 A -1
		stop
	}
}

actor rxGib4 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB4 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB4 A 0 A_PlaySound("gib/impact")
		GIB4 A 0 A_Jump(128, 2)
		GIB4 E -1
		stop
		GIB4 A -1
		stop
	}
}

actor rxGib5 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB5 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB5 A 0 A_PlaySound("gib/impact")
		GIB5 A 0 A_Jump(128, 2)
		GIB5 E -1
		stop
		GIB5 A -1
		stop
	}
}

actor rxGib6 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB6 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB6 A 0 A_PlaySound("gib/impact")
		GIB6 A 0 A_Jump(128, 2)
		GIB6 E -1
		stop
		GIB6 A -1
		stop
	}
}

actor rxGib7 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB7 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB7 A 0 A_PlaySound("gib/impact")
		GIB7 A 0 A_Jump(128, 2)
		GIB7 E -1
		stop
		GIB7 A -1
		stop
	}
}

actor rxGib8 : RAWrxGib1
{
	states
	{
	Spawn:
		GIB8 A 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIB8 A 0 A_PlaySound("gib/impact")
		GIB8 A 0 A_Jump(128, 2)
		GIB8 E -1
		stop
		GIB8 A -1
		stop
	}
}

actor rxGib9s : RAWrxGib1
{
	states
	{
	Spawn:
		GIDA BCDE 8 A_SpawnDebris("Dynamic_FlyingBlood",1)
		loop
	Crash:
		GIDA A 0 A_PlaySound("gib/impact")
		GIDA A 0 A_Jump(128, 2)
		GIDA F -1
		stop
		GIDA A -1
		stop
	}
}

actor rGib19 : RAWrxGib1
{
	states
	{
	Spawn:
		BRS1 A 8
		loop
	Crash:
		BRS1 A 0 A_PlaySound("gib/impact")
		BRS1 A 0 A_Jump(128, 2)
		BRS1 E -1
		stop
		BRS1 A -1
		stop
	}
}

ACTOR Dynamic_TeleportFog : TeleportFog replaces TeleportFog
{
	+NOBLOCKMAP +NOTELEPORT +NOGRAVITY
	RenderStyle Add
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("Dynamic_PlasmaRandomFlareMediumGreen", 0, 0, 40, 0, 0, 0, 0, 128, 0)
		Stop
	Raven:
		TNT1 A 0 A_SpawnItemEx("Dynamic_PlasmaRandomFlareMediumGreen", 0, 0, 40, 0, 0, 0, 0, 128, 0)
		Stop
	Strife:
		TNT1 A 0 A_SpawnItemEx("Dynamic_PlasmaRandomFlareMediumGreen", 0, 0, 40, 0, 0, 0, 0, 128, 0)
		Stop
	}
}

Actor Dynamic_PlasmaRandomFlareMediumGreen
{
	Radius 16 Height 16
	Scale 1.2
	RenderStyle Add
	+NoGravity +NoBlockmap +ForceXYBillboard
	States
	{
	Spawn:
		SPG1 A 3 Bright
		SPG1 A 1 Bright A_FadeOut(0.075)
		Wait
	}
}

const int acsPointerPitch = 536;
const int flashlightVert = 18;
const int flashlightHoriz = 0;

ACTOR FlashlightSpawner : CustomInventory
{
	States
	{
	Pickup:
		TNT1 A 0 A_CustomMissile("FlashLightBeam1", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam2", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam3", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam4", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam5", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam6", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam7", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam8", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam9", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam10", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam11", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam12", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam13", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam14", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam15", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam16", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam17", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam18", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		TNT1 A 0 A_CustomMissile("FlashLightBeam19", flashlightVert, flashlightHoriz, 0, 2, ACS_ExecuteWithResult(acsPointerPitch, 0))
		Stop
	}
}

ACTOR FlashLightBeam
{
	+NOGRAVITY
	+NOCLIP
	+NOBLOCKMAP
	+DONTSPLASH
	+THRUACTORS
	Renderstyle None
	Radius 1
	Height 1
	States 
	{
	Spawn:
		TNT1 AABC 1
		Stop
	}
}

ACTOR FlashLightBeam1 : FlashLightBeam
{
	Speed  1
}

ACTOR FlashLightBeam2 : FlashLightBeam
{
	Speed  2
}

ACTOR FlashLightBeam3 : FlashLightBeam
{
	Speed  3
}

ACTOR FlashLightBeam4 : FlashLightBeam
{
	Speed  4
}

ACTOR FlashLightBeam5 : FlashLightBeam
{
	Speed  5
}

ACTOR FlashLightBeam6 : FlashLightBeam
{
	Speed  7
}

ACTOR FlashLightBeam7 : FlashLightBeam
{
	Speed  9
}

ACTOR FlashLightBeam8 : FlashLightBeam
{
	Speed  12
}

ACTOR FlashLightBeam9 : FlashLightBeam
{
	Speed  16
}

ACTOR FlashLightBeam10 : FlashLightBeam
{
	Speed  21
}

ACTOR FlashLightBeam11 : FlashLightBeam
{
	Speed  28
}

ACTOR FlashLightBeam12 : FlashLightBeam
{
	Speed  37
}

ACTOR FlashLightBeam13 : FlashLightBeam
{
	Speed  49
}

ACTOR FlashLightBeam14 : FlashLightBeam
{
	Speed  65
}

ACTOR FlashLightBeam15 : FlashLightBeam
{
	Speed  87
}

ACTOR FlashLightBeam16 : FlashLightBeam
{
	Speed  116
}

ACTOR FlashLightBeam17 : FlashLightBeam
{
	Speed  155
}

ACTOR FlashLightBeam18 : FlashLightBeam
{
	Speed  207
}

ACTOR FlashLightBeam19 : FlashLightBeam
{
	Speed  276
}

// Luna Game 0
// MAP01
Actor LG0_ForestTree 90
{
	Scale 2.0
	Radius 16
	Height 120
	+SOLID
	+DONTSPLASH
	States
	{
	Spawn:
		TREE A -1
		Stop
	}
}

Actor LG0_StatueRight 91
{
	Scale 1.8
	Radius 32
	Height 110
	+SOLID
	+DONTSPLASH
	States
	{
	Spawn:
		STAT A -1
		Stop
	}
}

Actor LG0_StatueLeft : LG0_StatueRight 92
{
	States
	{
	Spawn:
		STAT B -1
		Stop
	}
}

Actor LG0_Throne 93
{
	Radius 28
	Height 64
	+SOLID
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}

ACTOR LG0_Celestia 94
{
	Radius 28
	Height 64
	MONSTER
	+USESPECIAL
	+LOOKALLAROUND
	+DONTSPLASH
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY A 1
		Loop
	TalkInit:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "Talk")
		Loop
	Talk:
		PLAY B 1 A_FaceTarget
		Loop
	}
}

// MAP02
ACTOR LG0_Barrel 95
{
	Radius 16
	Height 32
	+SOLID
	+DONTSPLASH
	+USESPECIAL
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}

ACTOR LG0_Applejack 96
{
	Health 100
	Radius 16
	Height 64
	Speed 2
	MONSTER
	+USESPECIAL
	+DONTSPLASH
	Activation THINGSPEC_ClearSpecial
	var int user_wander;
	States
	{
	Spawn:
		PLAY A 0 A_Jump(96, "LookLeft", "LookRight", "Wander")
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	LookLeft:
		POSS FFGGHHIIJJKKLLMMNNOPPQQRRSSTTUUVVWWXXYZZ 1
		SPOS AABBCCDDEEFFGGHHIIJJIIHHGGFFEEDDCCBBAA 1
		POSS ZZYXXWWVVUUTTSSRRQQPPONNMMLLKKJJIIHHGGFF 1
		Goto Spawn
	LookRight:
		SPOS KKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		TROO AABBCCDEEFFGGHHIIJJKKLLMMNNOONNMMLLKKJJIIHHGGFFEEDCCBBAA 1
		SPOS ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKK 1
		Goto Spawn
	Wander:
		TROO P 0 A_SetUserVar(user_wander, 0)
		TROO PQRSTUVWX 1 A_Wander
		TROO Y 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		TROO YZ 1 A_Wander
		SARG ABCDEFGHIJK 1 A_Wander
		SARG L 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG LMNO 1 A_Wander
		SARG P 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG PQRS 1 A_Wander
		TROO P 1 A_Wander
		TROO P 0 A_JumpIf(user_wander == 2, "Spawn")
		TROO P 0 A_SetUserVar(user_wander, user_wander + 1)
		Goto Wander+1
	Talkinit:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "Talk")
		Loop
	Talk:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	}
}

ACTOR LG0_Fluttershy : LG0_Applejack 97 {}
ACTOR LG0_Derpy : LG0_Applejack 98 {}
ACTOR LG0_Bonbon : LG0_Applejack 99 {}
ACTOR LG0_Lyra : LG0_Applejack 100 {}
ACTOR LG0_TwilightSparkle : LG0_Applejack 101 {}
ACTOR LG0_Rarity : LG0_Applejack 102 {}

ACTOR LG0_PinkiePie : LG0_Applejack 103
{
	Speed 4
	Mass 0x3FFFFF
	+SHOOTABLE
}

ACTOR LG0_RainbowDash : LG0_Applejack 104
{
	Speed 3
}

ACTOR LG0_Octavia : LG0_Applejack 105 {}
ACTOR LG0_AppleBloom : LG0_RainbowDash 106 {}
ACTOR LG0_SweetieBelle : LG0_RainbowDash 107 {}
ACTOR LG0_Scootaloo : LG0_RainbowDash 108 {}
ACTOR LG0_VinylScratch : LG0_Applejack 109 {}

ACTOR LG0_QuestApples : Inventory
{
	+INVENTORY.PERSISTENTPOWER
	Inventory.Amount 0
	Inventory.MaxAmount 1
}

ACTOR LG0_QuestCarrots : LG0_QuestApples {}
ACTOR LG0_QuestBooks : LG0_QuestApples {}
ACTOR LG0_QuestEmeralds : LG0_QuestApples {}
ACTOR LG0_QuestCandies : LG0_QuestApples {}
ACTOR LG0_QuestSnowflakes : LG0_QuestApples {}

// MAP03
ACTOR LG0_Book : CustomInventory
{
	Scale 0.75
	Inventory.Amount 1
	Inventory.MaxAmount 49
	Inventory.PickupMessage "You found one of Twilight's book!"
	Inventory.PickupSound "Item/Book"
	+INVENTORY.NOSCREENFLASH
	+INVENTORY.ALWAYSPICKUP
	+FLOATBOB
	+NOGRAVITY
	States
	{
	Spawn:
		BOOK A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecute("IncrItem", 0, 0, 0, 0)
		Stop
	}
}

ACTOR LG0_BookEvil : LG0_Book
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Twilight's last book!"
	Inventory.PickupSound "Item/Book_Evil"
	States
	{
	Spawn:
		BOOK B -1
		Stop
	}
}

ACTOR LG0_Apple : LG0_Book
{
	Inventory.PickupMessage "You found one of Applejack's apple!"
	Inventory.PickupSound "Item/Food"
	States
	{
	Spawn:
		APPL A -1
		Stop
	}
}

ACTOR LG0_AppleEvil : LG0_Apple
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Applejack's last apple!"
	Inventory.PickupSound "Item/Food_Evil"
	States
	{
	Spawn:
		APPL B -1
		Stop
	}
}

ACTOR LG0_Candy : LG0_Book
{
	Inventory.PickupMessage "You found one of Pinkie Pie's candy!"
	States
	{
	Spawn:
		CNDY A -1
		Stop
	}
}

ACTOR LG0_CandyEvil : LG0_Candy
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Pinkie Pie's last candy!"
	Inventory.PickupSound "Item/Book_Evil"
	States
	{
	Spawn:
		CNDY B -1
		Stop
	}
}

ACTOR LG0_Snowflake : LG0_Book
{
	Inventory.PickupMessage "You found one of Rainbow Dash's snowflake!"
	Inventory.PickupSound "Item/Snow"
	States
	{
	Spawn:
		SNOW A -1
		Stop
	}
}

ACTOR LG0_SnowflakeEvil : LG0_Snowflake
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Rainbow Dash's last snowflake!"
	Inventory.PickupSound "Item/Snow_Evil"
	States
	{
	Spawn:
		SNOW B -1
		Stop
	}
}

ACTOR LG0_Emerald : LG0_Book
{
	Inventory.PickupMessage "You found one of Rarity's emerald!"
	Inventory.PickupSound "Item/Emerald"
	States
	{
	Spawn:
		EMER A -1
		Stop
	}
}

ACTOR LG0_EmeraldEvil : LG0_Emerald
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Rarity's last emerald!"
	Inventory.PickupSound "Item/Emerald_Evil"
	States
	{
	Spawn:
		EMER B -1
		Stop
	}
}

ACTOR LG0_Carrot : LG0_Apple
{
	Inventory.PickupMessage "You found one of Fluttershy's carrot!"
	States
	{
	Spawn:
		CART A -1
		Stop
	}
}

ACTOR LG0_CarrotEvil : LG0_Carrot
{
	Inventory.MaxAmount 1
	Inventory.PickupMessage "You found Fluttershy's last carrot!"
	Inventory.PickupSound "Item/Food_Evil"
	States
	{
	Spawn:
		CART B -1
		Stop
	}
}

ACTOR LG0_Knife : DoomWeapon
{
	+WEAPON.MELEEWEAPON
	States
	{
	Select:
		TNT1 AAAAAAAAAAAAAAA 0 A_Raise
		PLAY ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		POSS ABCDEFGHIJ 1
		Goto Ready
	Deselect:
		TNT1 A 1 A_Lower
		Loop
	Ready:
		POSS K 1 A_WeaponReady
		Loop
	Fire:
		POSS LMNOP 1
		POSS Q 0 A_PlaySoundEx("knife/swing", weapon)
		POSS Q 1
		POSS R 0 A_CustomPunch(25, 1, 0, "KnifePuff", 0)
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 1
		TROO A 0 A_ReFire
		Goto Ready
	}
}

// Luna Game 2
// MAP01
ACTOR LG2_AppleBloom 110
{
	Health 100
	Radius 16
	Height 56
	Speed 9
	MONSTER
	-COUNTKILL
	+NOBLOCKMONST
	+FLOORCLIP
	+USESPECIAL
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_LookEx(LOF_NOSIGHTCHECK | LOF_NOSOUNDCHECK, 0, 0, 0, 0, "See")
		POSS AABBCCDDEEDDCCBBAA 1 A_LookEx(LOF_NOSIGHTCHECK | LOF_NOSOUNDCHECK, 0, 0, 0, 0, "See")
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_LookEx(LOF_NOSIGHTCHECK | LOF_NOSOUNDCHECK, 0, 0, 0, 0, "See")
		Loop
	See:
		POSS FFGGH 1 A_Chase
		POSS I 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS IIJJKKLLMNNOO 1 A_Chase
		POSS P 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS PPQRRSSTT 1 A_Chase
		POSS U 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS UVVWWXXY 1 A_Chase
		POSS Z 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS ZZ 1 A_Chase
		Loop
	}
}

ACTOR LG2_Pinkamena : LG2_AppleBloom
{
	Speed 34
	MONSTER
	-USESPECIAL
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_Look
		POSS AABBCCDDEEDDCCBBAA 1 A_Look
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_Look
		Loop
	Melee:
		PLAY A 0 A_FaceTarget
		PLAY A 10 ACS_NamedExecute("Screamer", 0, 0, 0, 0)
		Goto See
	}
}

actor LG2_NightmareMoon
{
	Radius 16
	Height 56
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 1
		Loop
	}
}

// MAP02
ACTOR LG2_PinkamenaCutscene
{
	Radius 16
	Height 56
	+SOLID
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	Fall:
		POSS F 0 A_CheckFloor("Land")
		POSS F 1
		Loop
	Land:
		POSS F 0 A_PlaySoundEx("Pony/Movement/Land", body)
		Goto Spawn
	}
}

ACTOR LG2_PinkamenaChaseSlow : LG2_Pinkamena
{
	Speed 4
	States
	{
	See:
		POSS FGHIJKLMN 1 A_Chase
		POSS O 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS OPQRSTUVWXYZ 1 A_Chase
		SPOS A 1 A_Chase
		SPOS B 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS BCDE 1 A_Chase
		SPOS F 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS FGHI 1 A_Chase
		POSS F 1 A_Chase
		Loop
	}
}

// Luna Game 4
// MAP01
ACTOR LG4_LunaSuicide 111
{
	Health 100
	Radius 16
	Height 56
	MONSTER
	-COUNTKILL
	+SKYEXPLODE
	States
	{
	Spawn:
		PLAY A 1
		Loop
	Splat:
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 A_PlaySound("body/explode")
		TNT1 A 0 A_SpawnDebris("rGib19",0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s",0,0,0,0)
		TNT1 A -1
		Stop
	}
}

// MAP02
ACTOR LG4_RainbowDash 112
{
	Health 100
	Radius 16
	Height 64
	+USESPECIAL
	MONSTER
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "FacePlayer")
		Loop
	FacePlayer:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	Death:
		PLAY A 0 A_Jump(256, "Dead1", "Dead2", "Dead3", "Dead4")
		Goto Dead1
	Dead1:
		POSS F 0 A_NoBlocking
		POSS F -1
		Stop
	Dead2:
		POSS G 0 A_NoBlocking
		POSS G -1
		Stop
	Dead3:
		POSS H 0 A_NoBlocking
		POSS H -1
		Stop
	Dead4:
		POSS I 0 A_NoBlocking
		POSS I -1
		Stop
	}
}

ACTOR LG4_TwilightSparkle : LG4_RainbowDash 113 {}
ACTOR LG4_Fluttershy : LG4_RainbowDash 114 {}
ACTOR LG4_Applejack : LG4_RainbowDash 115 {}
ACTOR LG4_Rarity : LG4_RainbowDash 116 {}
ACTOR LG4_CreepyBloom : LG4_RainbowDash 117 {}

ACTOR LG4_NightmareMoon : LG4_RainbowDash 118
{
	Radius 28
	States
	{
	FacePlayer:
		PLAY A 1 A_FaceTarget
		Loop
	Death:
		PLAY A 0 A_Jump(256, "Dead1", "Dead2", "Dead3")
		Goto Dead1
	Dead1:
		PLAY B 0 A_NoBlocking
		PLAY B -1
		Stop
	Dead2:
		PLAY C 0 A_NoBlocking
		PLAY C -1
		Stop
	Dead3:
		PLAY D 0 A_NoBlocking
		PLAY D -1
		Stop
	Dead4:
		Stop
	}
}

ACTOR LG4_RainbowDashPrecacheBloody
{
	Radius 16
	Height 56
	+FLOORCLIP
	States
	{
	Spawn:
		PLAY A 1
		Loop
	}
}

ACTOR LG4_TwilightSparklePrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG4_FluttershyPrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG4_ApplejackPrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG4_RarityPrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG4_CreepyBloomPrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG4_NightmareMoonPrecacheBloody : LG4_RainbowDashPrecacheBloody {}

// MAP03
ACTOR LG4_Pinkamena : LG4_RainbowDash 119
{
	States
	{
	Wave:
		POSS FGHIJKLMNOPQRS 1
		POSS T 2
		POSS UVWXYZ 1
		SPOS ABCDEFGH 1
		SPOS I 2
		SPOS JKLMNOPQRSTUVW 1
		SPOS X 2
		SPOS YZ 1
		TROO ABCDEFGHIJKL 1
		TROO M 2
		TROO NOPQRSTUVWX 1
		Goto FacePlayer
	Death:
	Dead1:
	Dead2:
	Dead3:
	Dead4:
		Stop
	}
}

ACTOR LG4_PinkamenaChase
{
	Radius 16
	Height 56
	Speed 18
	MONSTER
	+FLOORCLIP
	+NOCLIP
	+DROPOFF
	+LOOKALLAROUND
	-COUNTKILL
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Loop
	See:
		PLAY BBCCD 1 A_Chase
		PLAY E 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY EEFFGGHHIJJKK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QRRSSTTU 1 A_Chase
		PLAY V 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY VV 1 A_Chase
		Loop
	Melee:
		PLAY A 1 ACS_NamedExecute("Screamer", 0, 0, 0, 0)
		Goto Spawn
	}
}	

// Luna Game 5
// MAP01
ACTOR LG5_Pinkamena 120
{
	Health 100
	Radius 16
	Height 56
	Speed 4
	MONSTER
	-COUNTKILL
	+NOBLOCKMONST
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	Leave:
		PLAY A 1 A_Look
		Loop
	See:
		POSS FGHIJKLMN 1 A_Chase
		POSS O 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS OPQRSTUVWXYZ 1 A_Chase
		SPOS A 1 A_Chase
		SPOS B 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS BCDE 1 A_Chase
		SPOS F 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS FGHI 1 A_Chase
		POSS F 1 A_Chase
		Loop
	}
}

ACTOR LG5_Chicken : LG5_Pinkamena 121
{
	CameraHeight 16
	Height 64
	Speed 12
	States
	{
	Spawn:
		CHKN A 1
		Loop
	Leave:
		CHKN A 1 A_Look
		Loop
	See:
		CHKN AAABBB 1 A_Chase
		Loop
	}
}

// MAP02
ACTOR LG5_Chicken2 : LG5_Chicken 122
{
	+USESPECIAL
	Activation THINGSPEC_ClearSpecial
}

ACTOR LG5_Scootaloo
{
	Radius 16
	Height 64
	+USESPECIAL
	+DONTSPLASH
	MONSTER
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	LookUp:
		POSS FFGGHHIIJJKKLLMMNNOPPQQRRSSTTUUVVWWXXYZZ 1
		SPOS AABBCCDDEEFFGGHHIIJJIIHHGGFFEEDDCCBBAA 1
		POSS ZZYXXWWVVUUTTSSRRQQPPONNMMLLKKJJIIHHGGFF 1
		Loop
	}
}

ACTOR LG5_ScootalooCreepy : LG5_Scootaloo
{
	-USESPECIAL
}

ACTOR LG5_PinkiePie : LG5_Pinkamena 123
{
	Speed 1
	+USESPECIAL
	Activation THINGSPEC_ClearSpecial
	States
	{
	LookPlayer:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	}
}

// MAP03
ACTOR LG5_Applejack 124
{
	Health 100
	Radius 16
	Height 64
	Speed 2
	+USESPECIAL
	+DONTSPLASH
	MONSTER
	Activation THINGSPEC_ClearSpecial
	var int user_wander;
	States
	{
	Spawn:
		PLAY A 0 A_Jump(96, "LookLeft", "LookRight", "Wander")
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	LookLeft:
		POSS FFGGHHIIJJKKLLMMNNOPPQQRRSSTTUUVVWWXXYZZ 1
		SPOS AABBCCDDEEFFGGHHIIJJIIHHGGFFEEDDCCBBAA 1
		POSS ZZYXXWWVVUUTTSSRRQQPPONNMMLLKKJJIIHHGGFF 1
		Goto Spawn
	LookRight:
		SPOS KKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		TROO AABBCCDEEFFGGHHIIJJKKLLMMNNOONNMMLLKKJJIIHHGGFFEEDCCBBAA 1
		SPOS ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKK 1
		Goto Spawn
	Wander:
		TROO P 0 A_SetUserVar(user_wander, 0)
		TROO PQRSTUVWX 1 A_Wander
		TROO Y 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		TROO YZ 1 A_Wander
		SARG ABCDEFGHIJK 1 A_Wander
		SARG L 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG LMNO 1 A_Wander
		SARG P 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG PQRS 1 A_Wander
		TROO P 1 A_Wander
		TROO P 0 A_JumpIf(user_wander == 2, "Spawn")
		TROO P 0 A_SetUserVar(user_wander, user_wander + 1)
		Goto Wander+1
	Talkinit:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "Talk")
		Loop
	Talk:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	}
}

ACTOR LG5_Fluttershy : LG5_Applejack 125 {}
ACTOR LG5_TwilightSparkle : LG5_Applejack 126 {}
ACTOR LG5_Rarity : LG5_Applejack 127 {}
ACTOR LG5_RainbowDash : LG5_Applejack 128 {}

ACTOR LG5_NightmareMoon 129
{
	Radius 28
	Height 64
	+SOLID
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 1
		Loop
	}
}

ACTOR LG5_DarkPony 130
{
	Radius 16
	Height 64
	Speed 2
	MONSTER
	-COUNTKILL
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "FacePlayer")
		Loop
	FacePlayer:
		PLAY A 1 A_FaceTarget
		Loop
	See:
		PLAY BBCCDDEFF 1 A_Chase
		PLAY G 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY GGHHIJJKKLLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QRRSSTTUU 1 A_Chase
		Loop
	Melee:
		PLAY A 1 ACS_NamedExecute("Screamer", 0, 0, 0, 0)
		Goto Spawn
	}
}

ACTOR LG5_Giygas
{
	CameraHeight 41
	Speed 3
	Health 100
	Radius 16
	Height 56
	MONSTER
	-COUNTKILL
	+SOLID
	+FLOORCLIP
	States
	{
	Spawn:
		PLAY ABBCCDDEEFFGGHHIIJJKKLLMNNOOPPQRSSTTUUVWWXXYYZ 1 A_Look
		POSS AABCCDEE 1 A_Look
		Loop
	See:
		POSS FGH 1 A_Chase
		POSS I 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS IJKLLMNOPQRRST 1 A_Chase
		POSS U 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS UVWXYYZ 1 A_Chase
		SPOS ABCDE 1 A_Chase
		Loop
	Talking:
		PLAY ABBCCDDEEFFGGHHIIJJKKLLMNNOOPPQRSSTTUUVWWXXYYZ 1
		POSS AABCCDEE 1
		Loop
	}
}

// MAP04
ACTOR LG5_Giygas2 : LG5_Giygas
{
	States
	{
	Spawn:
		PLAY ABBCCDDEEFFGGHHIIJJKKLLMNNOOPPQRSSTTUUVWWXXYYZ 1
		POSS AABCCDEE 1
		Loop
	}
}

// Luna Game 6
// MAP01
ACTOR LG6_Pinkamena 131
{
	Health 100
	Radius 16
	Height 64
	Speed 30
	MONSTER
	-COUNTKILL
	+NOBLOCKMONST
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Loop
	See:
		PLAY BBCCD 1 A_Chase
		PLAY E 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY EEFFGGHHIJJKK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QRRSSTTU 1 A_Chase
		PLAY V 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY VV 1 A_Chase
		Loop
	Melee:
		PLAY A 1 ACS_NamedExecute("Screamer", 0, 0, 0, 0)
		Goto Spawn
	}
}

// MAP03
Actor LG6_PinkamenaCutscene : LG6_Pinkamena
{
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	}
}

// MAP04
Actor LG6_FakeKey : CustomInventory 132
{
	Scale 0.5
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "Yuo nofud teh etga's yke!"
	+INVENTORY.NOSCREENFLASH
	+INVENTORY.ALWAYSPICKUP
	+FLOATBOB
	+NOGRAVITY
	States
	{
	Spawn:
		FKEY ABCDE 4
		Loop
	}
}

ACTOR LG6_PinkamenaTrap : LG6_Pinkamena
{
	States
	{
	See:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_Chase("Melee", "", CHF_DONTMOVE | CHF_NODIRECTIONTURN)
		POSS AABBCCDDEEDDCCBBAA 1 A_Chase("Melee", "", CHF_DONTMOVE | CHF_NODIRECTIONTURN)
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_Chase("Melee", "", CHF_DONTMOVE | CHF_NODIRECTIONTURN)
		Loop
	}
}

Actor LG6_ChestKey : LG6_FakeKey 133
{
	Inventory.PickupMessage "You found the gate's key!"
	Inventory.PickupSound "key/pickup"
	States
	{
	Spawn:
		CKEY A -1
		Stop
	}
}

// MAP06
ACTOR LG6_Skeleton1 134
{
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}

ACTOR LG6_Skeleton2 : LG6_Skeleton1 135 {}

// Oh look, it's me, and I'm dead... :(
ACTOR LG6_MrYossarian : LG6_Skeleton1 136 {}

// Scrapped
/*
ACTOR LG6_Medkit : HealthPickup 137
{
	Health 1000
	+INVENTORY.INVBAR
	+INVENTORY.NOSCREENFLASH
	Inventory.MaxAmount 10
	Inventory.Icon MEDKICON
	Inventory.PickupMessage "You found a portable medkit! (Recover 1000 HP)"
	Inventory.PickupSound "Item/Medkit/Pickup"
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}
*/

// MAP07

// Coded by Solarsnowfall, Tormentor667 and Ghastly_dragon [No involment in the project though]
// Edited by MrYossarian
Actor FireSpawner 138
{
	Height 40
	Radius 30
	+ClientSideOnly
	+NoClip
	+NoBlockMap
	+NoGravity
	+NoSector
	+NoInteraction
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_PlaySoundEx("TR1/Fire", "SoundSlot6", 1)
		TNT1 A 0 A_SpawnItemEx("SmallFlame", 0, 0, 0, 0, 0, 0, 0, 128)
		TNT1 A 0 A_Jump(216, 4)
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame1A", 0, 0, 0, 0, 0, 0, 0, 128)
		TNT1 A 0 A_SpawnItemEx("Ember1", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
		TNT1 A 0 A_Jump(176, 3)
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame1B", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
		TNT1 A 0 A_Jump(136, 3)
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame2A", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
		TNT1 A 0 A_Jump(96, 3)
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame2B", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
		TNT1 A 0 A_Jump(56, 3)
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame3A", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
		TNT1 A 0 A_Explode(5, 32, XF_NOTMISSILE)
		TNT1 A 1 A_SpawnItemEx("Flame3B", 0, 0, 0, 0, 0, 0, 0, 128)
		Loop
	}
}

Actor SmallFlame
{
	+ClientSideOnly
	+NoClip
	+NoBlockMap
	+NoGravity
	+NoInteraction
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 1
		Stop
	}
}

Actor Flame1A
{
	Height 2	
	Radius 1
	+NoGravity
	+NoBlockMap
	+Missile
	+NoInteraction
	+ForceXYBillboard
	+DONTSPLASH
	RenderStyle Add
	Alpha 0.8
	Scale 0.35
	States
	{
	Spawn:
		FLM1 A 0
		FLM1 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM1 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM1 ABCDE 2 Bright
		FLM1 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM1 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM1 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM1 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM1 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM1 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM1 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM1 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM1 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM1 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM1 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM1 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM1 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM1 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Flame1B : Flame1A
{
	States
	{
	Spawn:
		FLM2 A 0
		FLM2 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM2 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM2 ABCDE 2 Bright
		FLM2 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM2 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM2 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM2 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM2 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM2 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM2 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM2 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM2 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM2 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM2 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM2 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM2 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM2 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Flame2A : Flame1A
{
	States
	{
	Spawn:
		FLM3 A 0
		FLM3 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM3 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM3 ABCDE 2 Bright
		FLM3 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM3 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM3 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM3 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM3 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM3 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM3 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM3 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM3 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM3 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM3 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM3 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM3 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM3 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Flame2B : Flame1A
{
	States
	{
	Spawn:
		FLM4 A 0
		FLM4 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM4 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM4 ABCDE 2 Bright
		FLM4 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM4 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM4 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM4 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM4 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM4 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM4 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM4 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM4 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM4 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM4 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM4 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM4 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM4 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Flame3A : Flame1A
{
	States
	{
	Spawn:
		FLM5 A 0
		FLM5 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM5 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM5 ABCDE 2 Bright
		FLM5 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM5 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM5 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM5 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM5 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM5 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM5 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM5 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM5 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM5 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM5 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM5 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM5 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM5 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Flame3B : Flame1A
{
	States
	{
	Spawn:
		FLM6 A 0
		FLM6 A 0 ThrustThingZ(0, Random(2, 6), 0, 0)
		FLM6 A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		FLM6 ABCDE 2 Bright
		FLM6 F 1 Bright A_SetTranslucent(0.75, 1)
		FLM6 F 1 Bright A_SetTranslucent(0.7, 1)
		FLM6 G 1 Bright A_SetTranslucent(0.65, 1)
		FLM6 G 1 Bright A_SetTranslucent(0.6, 1)
		FLM6 H 1 Bright A_SetTranslucent(0.55, 1)
		FLM6 H 1 Bright A_SetTranslucent(0.5, 1)
		FLM6 I 1 Bright A_SetTranslucent(0.45, 1)
		FLM6 I 1 Bright A_SetTranslucent(0.4, 1)
		FLM6 J 1 Bright A_SetTranslucent(0.35, 1)
		FLM6 J 1 Bright A_SetTranslucent(0.3, 1)
		FLM6 K 1 Bright A_SetTranslucent(0.25, 1)
		FLM6 K 1 Bright A_SetTranslucent(0.2, 1)
		FLM6 L 1 Bright A_SetTranslucent(0.15, 1)
		FLM6 L 1 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}

Actor Ember1 : Flame1A
{
	Scale 0.1
	States
	{
	Spawn:
		EMBR A 0
		EMBR A 0 ThrustThingZ(0, Random(4, 16), 0, 0)
		EMBR A 0 ThrustThing(Random(0, 255), Random(0, 1), 0, 0)
		EMBR A 32 Bright
	Death:
		EMBR A 2 Bright A_FadeOut(0.1)
		Loop
	}
}
// End

// MAP08
ACTOR LG6_PinkamenaScreamer : LG6_Pinkamena 139
{
	Speed 20
	+NOCLIP
	States
	{
	Melee:
		Stop
	}
}

// MAP09
ACTOR LG6_PinkamenaHost 140
{
	Health 100
	Radius 16
	Height 56
	Speed 8
	MONSTER
	-COUNTKILL
	+NOBLOCKMONST
	+FLOORCLIP
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	Mic:
		POSS FFGGHHIIJJKKLLMMNNOPPQQRRSSTTUUVVWWXXYZZ 1
		SPOS AABBCCDDEEFFGGHHIIJJIIHHGGFFEEDDCCBBAA 1
		POSS ZZYXXWWVVUUTTSSRRQQPPONNMMLLKKJJIIHHGGFF 1
		Loop
	}
}

// Coded by 0xCOBALT [No involment in the project]
// Edited by MrYossarian
actor glassChunkGenerator
{ 
	States
	{ 
	Spawn: 
		TNT1 A 0 A_Jump(128, 8) 
		TNT1 A 0 A_Jump(128, 4) 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("ChunkGlass1")
		stop 
		TNT1 A 1 A_SpawnDebris("ChunkGlass2")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("ChunkGlass3")
		stop 
		TNT1 A 1 A_SpawnDebris("ChunkGlass4")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("ChunkGlass5")
		stop 
		TNT1 A 1 A_SpawnDebris("ChunkGlass6")
		stop 
	} 
} 

actor RAWChunkGlass1
{
	scale 0.5
	health 1 mass 1
	radius 8 height 8
	scale 1.0
	-SOLID
	+CORPSE +NOTELEPORT +NOBLOCKMAP +CANNOTPUSH
	+DONTSPLASH
}

actor ChunkGlass1 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH59 A 8
		loop
	Crash:
		CH59 A 0 A_PlaySound("glass/impact")
		CH59 A 0 A_Jump(128, 2)
		CH59 E -1
		stop
		CH59 A -1
		stop
	}
}
actor ChunkGlass2 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH60 A 8
		loop
	Crash:
		CH60 A 0 A_PlaySound("glass/impact")
		CH60 A 0 A_Jump(128, 2)
		CH60 E -1
		stop
		CH60 A -1
		stop
	}
}
actor ChunkGlass3 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH61 A 8
		loop
	Crash:
		CH61 A 0 A_PlaySound("glass/impact")
		CH61 A 0 A_Jump(128, 2)
		CH61 E -1
		stop
		CH61 A -1
		stop
	}
}
actor ChunkGlass4 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH62 A 8
		loop
	Crash:
		CH62 A 0 A_PlaySound("glass/impact")
		CH62 A 0 A_Jump(128, 2)
		CH62 E -1
		stop
		CH62 A -1
		stop
	}
}
actor ChunkGlass5 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH63 A 8
		loop
	Crash:
		CH63 A 0 A_PlaySound("glass/impact")
		CH63 A 0 A_Jump(128, 2)
		CH63 E -1
		stop
		CH63 A -1
		stop
	}
}
actor ChunkGlass6 : RAWChunkGlass1
{
	states
	{
	Spawn:
		CH64 A 8
		loop
	Crash:
		CH64 A 0 A_PlaySound("glass/impact")
		CH64 A 0 A_Jump(128, 2)
		CH64 E -1
		stop
		CH64 A -1
		stop
	}
}

ACTOR SFX_Explosion_m_Base
{
	+NOBLOCKMAP
	-COUNTITEM
	+DONTSPLASH
	PROJECTILE
	DeathSound "weapons/rocklx"
	SpawnID 203
	Radius 1 Height 1 Speed 0
	States
	{	
	Spawn:
		TNT1 A 0 Radius_Quake(3, 28, 1, 4, 0)
		TNT1 A 0 A_Explode(750, 192)
		TNT1 A 0 A_Scream
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 345, 2, 0)
		TNT1 A 1 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_ExpFire_light", 0, 0, 0, 0, 0, 0, 0, 128, 0)			
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_xxs", 0, 0, 0, 0.3 * Random(-20, 20), 0.3 * Random(-20, 20), 0.3 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_xs", 0, 0, 0, 0.25 * Random(-20, 20), 0.25 * Random(-20, 20), 0.25 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_s", 0, 0, 0, 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_s", 0, 0, 0, 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)					
		TNT1 AAAA 1 A_SpawnItemEx("SFX_NoLight_ExpFire_long", 0, 0, 0, 0.003 * Random(-200, 200), 0.003 * Random(-200, 200), 0.003 * Random(-200, 200), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_ExpFire_light", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 1 A_SpawnItemEx("SFX_NoLight_ExpFire_long", 0, 0, 0, 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.01 * Random(-20, 20), 0.01 * Random(-20, 20), 0.01 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.015 * Random(-20, 20), 0.015 * Random(-20, 20), 0.015 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.03 * Random(-20, 20), 0.03 * Random(-20, 20), 0.03 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeMedium", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeSmall", 0, 0, 0, 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeSmall", 0, 0, 0, 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 1 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 A 5
		Stop
	}
}

Actor SFX_Shockwave
{
	Projectile
	+NoBlockmap +RIPPER +BLOODLESSIMPACT +SLIDESONWALLS +DONTSPLASH
	damage 0
	Radius 2 Height 1 Speed 100
	States
	{
	Spawn:
		TNT1 A 4
		stop
	}
}

Actor SFX_NoLight_ExpFire
{
	+Missile +NoGravity +NoBlockmap +FORCEXYBILLBOARD +DONTSPLASH
	-Solid
	Radius 0 Height 0
	RenderStyle Add
	Alpha 1.0
	Scale 0.8
	States
	{
	Spawn:
		BOOM ABCDEFGHIJKLMNOPPPPPPPPPP 1 BRIGHT A_FadeOut(0.04)
		Stop
	}
}

Actor SFX_ExpFire_light : SFX_NoLight_ExpFire
{	
	Scale 1.2
	States
	{
	Spawn:
		BOOM ABCDEFGHIJKLMNOPP 2 BRIGHT A_FadeOut(0.06)
		Stop
	}
}

Actor SFX_NoLight_ExpFire_xxs : SFX_NoLight_ExpFire
{
	Scale 0.02
	-NoGravity
	States
	{
	Spawn:
		BOOM A 0
		BOOM A 0 A_Gravity
		BOOM ABCDEFGHIJKLMNOPPPPPPPPPP 1 BRIGHT A_FadeOut(0.04)
		Stop
	}
}

Actor SFX_NoLight_ExpFire_xs : SFX_NoLight_ExpFire
{
	Scale 0.4
}

Actor SFX_NoLight_ExpFire_s : SFX_NoLight_ExpFire
{
	Scale 0.6
}

Actor SFX_NoLight_ExpFire_long : SFX_NoLight_ExpFire
{
	States
	{
	Spawn:
		BOOM ABCDEFGHIJKLMNOPPPPPPPPPP 2 BRIGHT A_FadeOut(0.04)
		Stop
	}
}

Actor SFX_SmokeMedium
{
	+NoGravity +DoomBounce +NoBlockmap +ForceXYBillboard +NoTeleport +DontSplash
	Scale 0.35
	Radius 0 Height 0
	Alpha 0.5
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256, 1, 2, 3, 4)
		SMOK A 1 A_FadeOut(0.01)
		Wait
		SMOK B 1 A_FadeOut(0.01)
		Wait
		SMOK C 1 A_FadeOut(0.01)
		Wait
		SMOK D 1 A_FadeOut(0.01)
		Wait
	}
}

Actor SFX_SmokeMedium_Long : SFX_SmokeMedium
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256, 1, 2, 3, 4)
		SMOK A 1 A_FadeOut(0.003)
		Wait
		SMOK B 1 A_FadeOut(0.003)
		Wait
		SMOK C 1 A_FadeOut(0.003)
		Wait
		SMOK D 1 A_FadeOut(0.003)
		Wait
	}
}

Actor SFX_SmokeSmall : SFX_SmokeMedium
{
	Scale 0.15
}
// End

Actor GlassBreakGenerator
{
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		TNT1 A 0 A_SpawnItem("glassChunkGenerator",0,0,0,0)
		Stop
	}
}

ACTOR LG6_Sword : DoomWeapon
{
	+CORPSE
	+WEAPON.MELEEWEAPON
	+WEAPON.ALT_AMMO_OPTIONAL
	Inventory.PickupSound "sword/pickup"
	Inventory.PickupMessage "You obtained a sword!"
	Weapon.AmmoGive2 1000
	Weapon.AmmoType2 "MP"
	Weapon.AmmoUse2 10
	Decal BulletChip
	States
	{
	Select:
		TNT1 AAAAAAAAAAAAAAA 0 A_Raise
		PLAY ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		POSS ABCDEFGHIJ 1
		Goto Ready
	Deselect:
		TNT1 A 1 A_Lower
		Loop
	Ready:
		POSS K 1 A_WeaponReady
		Loop
	Fire:
		POSS LMNOP 1
		POSS Q 0 A_PlaySoundEx("knife/swing", weapon)
		POSS Q 1
		POSS R 0 A_CustomPunch(random(200, 300), 1, 0, "FKnifePuff", 0)
		POSS RSTUVWXY 1
		POSS Z 1 A_ReFire
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_ReFire
		TROO A 1 A_ReFire
		Goto Ready
	AltFire:
		POSS K 0 A_JumpIfInventory("MP", 10, 1)
		Goto Fire
		POSS LMNOPQ 1
		POSS R 0 A_FireCustomMissile("ThunderShot", 0, 1, 0, 0)
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 1
		POSS K 35
		TROO A 0 A_ReFire
		Goto Ready
	Spawn:
		TROO B 1
		Loop
	Crash:
		TROO B 0 A_PlaySound("sword/impact")
		TROO B -1
		Stop
	}
}

ACTOR FKnifePuff : KnifePuff
{
	DamageType "Friendly"
}

ACTOR MP : Ammo
{
	Inventory.Amount 1
	Inventory.MaxAmount 1000
}

ACTOR LG6_PinkamenaKnifeCutscene : LG6_PinkamenaHost {}

ACTOR LG6_PinkamenaEnemy
{
	Health 6000
	Radius 16
	Height 56
	Mass 0x3FFFF
	Speed 10
	PainChance 96
	MONSTER
	+FLOORCLIP
	PainSound "pinkamena/pain"
	MaxStepHeight 32
	MaxDropOffHeight 32
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_Look
		POSS AABBCCDDEEDDCCBBAA 1 A_Look
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_Look
		Loop
	See:
		POSS F 0 A_Jump(64, "Tele")
		POSS FFGGH 1 A_Chase
		POSS I 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS IIJJKKLLMNNOO 1 A_Chase
		POSS P 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS PPQRRSSTT 1 A_Chase
		POSS U 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS UVVWWXXY 1 A_Chase
		POSS Z 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS ZZ 1 A_Chase
		Loop
	Tele:
		PLAY A 0 A_ChangeFlag("SHOOTABLE", 0)
		PLAY A 1 A_SetTranslucent(0.8)
		PLAY A 1 A_SetTranslucent(0.6)     
		PLAY B 1 A_SetTranslucent(0.4)
		PLAY B 1 A_SetTranslucent(0.2)
		PLAY B 0 A_ChangeFlag("SOLID", 0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_Wander
		PLAY C 0 A_ChangeFlag("SOLID", 1)
		PLAY C 1 A_SetTranslucent(0.2)
		PLAY C 1 A_SetTranslucent(0.4)
		PLAY D 1 A_SetTranslucent(0.6)
		PLAY D 1 A_SetTranslucent(0.8)
		PLAY E 1 A_SetTranslucent(1.0)
		PLAY E 0 A_ChangeFlag("SHOOTABLE", 1)
		Goto See
	Melee:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 1 A_CustomMeleeAttack(random(1, 4) * 127, "knife/hit/body", "knife/swing", 0, 1)
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	Pain:
		PLAY A 1
		PLAY A 1 A_Pain
		Goto See
	}
}

ACTOR LG6_PinkamenaCollapse
{
	Radius 16
	Height 56
	+FLOORCLIP
	PainSound "pinkamena/pain"
	States
	{
	Spawn:
		PLAY ABCDEFG 3
		PLAY H 0 A_Pain
		PLAY H 0 A_PlaySoundEx("bodydrop3", body)
		PLAY HIJ 2
		PLAY K -1
		Stop
	}
}

ACTOR LG6_PinkamenaScar1Precache
{
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}

/* The old HUD is no longer used
// This dummy weapon is used to delete the thunder icon from the HUD.
ACTOR DeleteIcon : Weapon
{
	States
	{
	Ready:
		TNT1 A 1 A_WeaponReady
		Loop
	Select:
		TNT1 A 1 A_Raise
		Loop
	Deselect:
		TNT1 A 1 A_Lower
		Loop
	Fire:
		TNT1 A 1
		Goto Ready
	}
}
*/

// MAP10
ACTOR LG6_Giygas : LG5_Giygas 141 {}

ACTOR LG6_SwordNoMP : LG6_Sword
{
	Weapon.AmmoGive2 0
}

// The following were created because the player has a sword at this time.
ACTOR LG6_PinkamenaIdle : LG6_PinkamenaCutscene 142
{
	PainChance 0
	Mass 0x3FFFFF
	+NODAMAGE
	States
	{
	See:
		Goto Spawn
	}
}

ACTOR LG6_PinkamenaSpeak : LG4_Pinkamena 143
{
	Height 64
	PainChance 0
	Mass 0x3FFFFF
	+NODAMAGE
	+SHOOTABLE
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	See:
		Goto Spawn
	Talkinit:
		PLAY A 1 A_LookEx(0, 0, 0, 0, 360, "Talk")
		Loop
	Talk:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	}
}

ACTOR LG6_PinkamenaScar1 : LG6_PinkamenaSpeak 144 {}

ACTOR LG6_GiygasFlamethrowerCutscene : LG6_Giygas
{
	Speed 2
	States
	{
	Spawn:
		PLAY ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1 A_Look
		POSS ABCDDEFGHIJJKLMNOPPQRSTUVVWXYZ 1 A_Look
		SPOS ABBCDEFGHHIJKLMNNOPQRSTTUVWXYZZ 1 A_Look
		TROO ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1 A_Look
		SARG ABCDDEFGHIJJKLMNOPPQ 1 A_Look
		Loop
	See:
		SARG RST 1 A_Chase
		SARG U 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG UVWXYZ 1 A_Chase
		SKUL ABCDEFGHIJKLM 1 A_Chase
		SKUL N 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SKUL NOPQRSTUVWXYZ 1 A_Chase
		HEAD ABCDE 1 A_Chase
		HEAD F 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		HEAD FGHIJKLMNOPQRSTUVWX 1 A_Chase
		HEAD Y 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		HEAD YZ 1 A_Chase
		BOSS ABCDEFGHIJKLMN 1 A_Chase
		Loop
	Talking:
		PLAY ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1
		POSS ABCDDEFGHIJJKLMNOPPQRSTUVVWXYZ 1
		SPOS ABBCDEFGHHIJKLMNNOPQRSTTUVWXYZZ 1
		TROO ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1
		SARG ABCDDEFGHIJJKLMNOPPQ 1
		Loop
	}
}

ACTOR LG6_NightmareMoonCutscene : LG6_GiygasFlamethrowerCutscene
{
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Loop
	See:
		PLAY BBCCDDEFF 1 A_Chase
		PLAY G 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY GGHHIJJKKLLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QRRSSTTUU 1 A_Chase
		Loop
	Talking:
		PLAY A 1
		Loop
	}
}

// MAP11
ACTOR LG6_NightmareMoonPlayer : LunaPlayer
{
	Health 7500
	Player.MaxHealth 7500
	Speed 0.75
	Player.CrouchSprite ""
	Player.ViewHeight 57
	Player.AttackZOffset 12
	Player.MorphWeapon "LG6_LaserSword"
	DamageFactor "Friendly", 0.0
	+PLAYERPAWN.CROUCHABLEMORPH
	States
	{
	Spawn:
		PLAY A 1
		Loop
	See:
		PLAY B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY B 1
		PLAY B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY B 1
		PLAY C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY C 1
		PLAY C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY C 1
		PLAY D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY D 1
		PLAY D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY D 1
		PLAY E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY E 1
		PLAY F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY F 1
		PLAY F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY F 1
		PLAY G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY G 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY G 1
		PLAY H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY H 1
		PLAY H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY H 1
		PLAY I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY I 1
		PLAY J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY J 1
		PLAY J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY J 1
		PLAY K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY K 1
		PLAY K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY K 1
		PLAY L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY L 1
		PLAY L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY L 1
		PLAY M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY M 1
		PLAY N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY N 1
		PLAY N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY N 1
		PLAY O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY O 1
		PLAY O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY O 1
		PLAY P 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY P 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY P 1
		PLAY P 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY P 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY P 1
		PLAY Q 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY Q 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Q 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY R 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY R 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY R 1
		PLAY R 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY R 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY R 1
		PLAY S 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY S 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY S 1
		PLAY S 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY S 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY S 1
		PLAY T 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY T 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY T 1
		PLAY T 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY T 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY T 1
		PLAY U 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY U 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY U 1
		PLAY U 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) > 8, "Run")
		PLAY U 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY U 1
		Loop
	Run:
		PLAY V 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY V 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY V 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY V 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY V 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY V 1
		PLAY W 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY W 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY W 1
		PLAY W 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY W 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY W 1
		PLAY X 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY X 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY X 1
		PLAY X 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY X 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY X 1
		PLAY Y 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY Y 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Y 1
		PLAY Z 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY Z 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Z 1
		PLAY Z 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		PLAY Z 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		PLAY Z 1
		POSS A 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS A 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS A 1
		POSS A 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS A 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS A 1
		POSS B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS B 1
		POSS B 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS B 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS B 1
		POSS C 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS C 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS C 1
		POSS D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS D 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS D 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS D 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS D 1
		POSS E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS E 1
		POSS E 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS E 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS E 1
		POSS F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS F 1
		POSS F 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS F 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS F 1
		POSS G 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS G 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS G 1
		POSS H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS H 1
		POSS H 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS H 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS H 1
		POSS I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS I 1
		POSS I 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS I 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS I 1
		POSS J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS J 1
		POSS J 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS J 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS J 1
		POSS K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS K 1 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS K 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS K 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS K 1
		POSS L 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS L 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS L 1
		POSS M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS M 1
		POSS M 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS M 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS M 1
		POSS N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS N 1
		POSS N 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS N 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS N 1
		POSS O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS O 1
		POSS O 0 A_JumpIf(CallACS("GetVelocity", 0, 0, 0, 0) < 8, "See")
		POSS O 0 A_JumpIf(velx == 0 && vely == 0, "Spawn")
		POSS O 1
		Loop
	Pain:
		PLAY A 4
		TNT1 A 0 A_PlaySoundEx("Luna/Pain", voice)
		Goto Spawn
	}
}

ACTOR LG6_LaserSword : LG6_Sword
{
	Inventory.PickupSound "Laser/Pickup"
	Inventory.PickupMessage "You obtained a laser sword!"
	Weapon.AmmoGive2 2000
	Weapon.AmmoType2 "MP2"
	Weapon.AmmoUse2 0
	Decal PlasmaScorch
	States
	{
	Select:
		TNT1 AAAAAAAAAAAAAAA 0 A_Raise
		PLAY ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		POSS ABCDEFGHIJ 1
		Goto Ready
	Deselect:
		TNT1 A 1 A_Lower
		Loop
	Ready:
		POSS K 1 A_WeaponReady
		Loop
	Fire:
		POSS L 0 A_JumpIfInventory("SelectedAttack", 5, "SparkIII")
		POSS L 0 A_JumpIfInventory("SelectedAttack", 4, "ThunderII")
		POSS L 0 A_JumpIfInventory("SelectedAttack", 3, "SparkII")
		POSS L 0 A_JumpIfInventory("SelectedAttack", 2, "Thunder")
		POSS L 0 A_JumpIfInventory("SelectedAttack", 1, "Spark")
		POSS LMNOP 1
		POSS Q 0 A_PlaySoundEx("Laser/Swing", weapon)
		POSS Q 1
		POSS R 0 A_CustomPunch(random(800, 900), 1, 0, "SwordPuff", 0)
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 1 A_ReFire
		Goto Ready
	Spark:
		POSS L 0 A_JumpIfInventory("MP2", 5, 2)
		POSS L 0 A_PlaySoundEx("Menu/HT/Void", body)
		Goto Fire+5
		POSS LMNOPQ 1
		POSS R 0 A_TakeInventory("MP2", 5)
		POSS R 0 A_FireCustomMissile("SparkShot")
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 5
		TROO A 0 A_ReFire
		Goto Ready
	Thunder:
		POSS L 0 A_JumpIfInventory("MP2", 10, 2)
		POSS L 0 A_PlaySoundEx("Menu/HT/Void", body)
		Goto Fire+5
		POSS LMNOPQ 1
		POSS R 0 A_TakeInventory("MP2", 10)
		POSS R 0 A_FireCustomMissile("ThunderShot")
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 10
		TROO A 0 A_ReFire
		Goto Ready
	SparkII:
		POSS L 0 A_JumpIfInventory("MP2", 15, 2)
		POSS L 0 A_PlaySoundEx("Menu/HT/Void", body)
		Goto Fire+5
		POSS LMNOPQ 1
		POSS R 0 A_TakeInventory("MP2", 15)
		POSS R 0 A_FireCustomMissile("SparkShot2")
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 15
		TROO A 0 A_ReFire
		Goto Ready
	ThunderII:
		POSS L 0 A_JumpIfInventory("MP2", 30, 2)
		POSS L 0 A_PlaySoundEx("Menu/HT/Void", body)
		Goto Fire+5
		POSS LMNOPQ 1
		POSS R 0 A_TakeInventory("MP2", 30)
		POSS R 0 A_FireCustomMissile("ThunderShot2")
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 20
		TROO A 0 A_ReFire
		Goto Ready
	SparkIII:
		POSS L 0 A_JumpIfInventory("MP2", 30, 2)
		POSS L 0 A_PlaySoundEx("Menu/HT/Void", body)
		Goto Fire+5
		POSS LMNOPQ 1
		POSS R 0 A_TakeInventory("MP2", 30)
		POSS R 0 A_FireCustomMissile("SparkShot3")
		POSS RSTUVWXYZ 1
		SPOS ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		TROO A 20
		TROO A 0 A_ReFire
		Goto Ready
	AltFire:
		POSS K 0 A_PlaySoundEx("Laser/Switch", weapon)
		POSS K 0 A_JumpIfInventory("SelectedAttack", 5, 15)
		POSS K 0 A_JumpIfInventory("SelectedAttack", 4, 12)
		POSS K 0 A_JumpIfInventory("SelectedAttack", 3, 9)
		POSS K 0 A_JumpIfInventory("SelectedAttack", 2, 6)
		POSS K 0 A_JumpIfInventory("SelectedAttack", 1, 3)
		POSS K 0 A_Print("Spark skill selected!", 1, "BIGFONT")
		POSS K 0 A_GiveInventory("SelectedAttack", 1)
		Goto AltFireEnd
		POSS K 0 A_Print("Thunder skill selected!", 1, "BIGFONT")
		POSS K 0 A_GiveInventory("SelectedAttack", 1)
		Goto AltFireEnd
		POSS K 0 A_Print("Spark II skill selected!", 1, "BIGFONT")
		POSS K 0 A_GiveInventory("SelectedAttack", 1)
		Goto AltFireEnd
		POSS K 0 A_Print("Thunder II skill selected!", 1, "BIGFONT")
		POSS K 0 A_GiveInventory("SelectedAttack", 1)
		Goto AltFireEnd
		POSS K 0 A_Print("Spark III skill selected!", 1, "BIGFONT")
		POSS K 0 A_GiveInventory("SelectedAttack", 1)
		Goto AltFireEnd
		POSS K 0 A_Print("Normal attack selected!", 1, "BIGFONT")
		POSS K 0 A_TakeInventory("SelectedAttack", 5)
		Goto AltFireEnd
	AltFireEnd:
		POSS K 10
		Goto Ready
	Spawn:
		TROO B 1
		Loop
	Crash:
		TROO B 0 A_PlaySound("Laser/Impact")
		TROO B -1
		Stop
	}
}

ACTOR MP2 : Ammo
{
	Inventory.Amount 1
	Inventory.MaxAmount 2000
}

ACTOR SelectedAttack : Ammo
{
	Inventory.Amount 0
	Inventory.MaxAmount 5
}

actor SwordPuff : KnifePuff
{
	DamageType "Friendly"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_PlaySound("Laser/Hit/Body")
		PLSE ABCDE 4 BRIGHT
		Stop
	Crash:
		TNT1 A 0 A_PlaySound("Laser/Hit/Wall")
		PLSE ABCDE 4 BRIGHT
		Stop
	}

}

actor LG6_LunaPlayerBattle : LunaPlayer
{
	Player.MorphWeapon "LG6_Sword"
	DamageFactor "Friendly", 0.0
	+PLAYERPAWN.CROUCHABLEMORPH
	States
	{
	Pain:
		PLAY A 4
		TNT1 A 0 A_PlaySoundEx("Luna/Pain", voice)
		Goto Spawn
	}
}

actor LG6_NightmareMoonAlly 145
{
	Health 7500
	Radius 16
	Height 64
	Mass 0x3FFFFF
	Speed 9
	PainChance 128
	MONSTER
	+FLOORCLIP
	+FRIENDLY
	PainSound "Luna/Pain"
	DeathSound "Luna/Death"
	DamageFactor "Friendly", 0.0
	var int user_retreat;
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Goto See
	See:
		PLAY B 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY BBCCDDEFFGGHHI 1 A_Chase
		PLAY J 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY JJKKLLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QQRSSTTUU 1 A_Chase
		Loop
	Retreat:
		PLAY B 0 A_SetUserVar("user_retreat", 0)
		PLAY B 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY BBCCDDEFFGGHHI 1 A_Chase
		PLAY J 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY JJKKLLMNNOOPP 1 A_Chase
		PLAY Q 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY QQRSSTTUU 1 A_Chase
		PLAY U 0 A_SetUserVar("user_retreat", user_retreat + 1)
		PLAY U 0 A_JumpIf(user_retreat == 3, 1)
		Goto Retreat+1
		PLAY U 0 A_ChangeFlag("FRIGHTENED", 0)
		Goto See
	Melee:
		PLAY V 0 A_ChangeFlag("FRIGHTENED", 0)
		PLAY V 0 A_ChangeFlag("NOPAIN", 1)
		PLAY VVWWXXYY 1 A_FaceTarget
		PLAY Z 1 A_CustomMeleeAttack(random(800, 900), "Laser/Hit/Body", "Laser/Swing", 0, 1)
		POSS AAABBBCCCDDDE 1 A_FaceTarget
		POSS E 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Missile:
		POSS F 0 A_Jump(256, "Spark", "Thunder", "SparkII", "ThunderII", "SparkIII")
		Goto See
	Spark:
		POSS F 0 A_JumpIfInventory("MP2", 5, 1)
		Goto See
		POSS F 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS F 0 A_ChangeFlag("NOPAIN", 1)
		POSS FFGGHHIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 A_FaceTarget
		POSS JK 1 A_FaceTarget
		POSS L 0 A_TakeInventory("MP2", 5)
		POSS L 0 A_CustomMissile("SparkShot")
		POSS LLLLL 1 A_FaceTarget
		POSS L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Thunder:
		POSS F 0 A_JumpIfInventory("MP2", 10, 1)
		Goto See
		POSS F 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS F 0 A_ChangeFlag("NOPAIN", 1)
		POSS FFGGHHIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 A_FaceTarget
		POSS JK 1 A_FaceTarget
		POSS L 0 A_TakeInventory("MP2", 10)
		POSS L 0 A_CustomMissile("ThunderShot")
		POSS LLLLLLLLLL 1 A_FaceTarget
		POSS L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	SparkII:
		POSS F 0 A_JumpIfInventory("MP2", 15, 1)
		Goto See
		POSS F 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS F 0 A_ChangeFlag("NOPAIN", 1)
		POSS FFGGHHIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 A_FaceTarget
		POSS JK 1 A_FaceTarget
		POSS L 0 A_TakeInventory("MP2", 15)
		POSS L 0 A_CustomMissile("SparkShot2")
		POSS LLLLLLLLLLLLLLL 1 A_FaceTarget
		POSS L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	ThunderII:
		POSS F 0 A_JumpIfInventory("MP2", 30, 1)
		Goto See
		POSS F 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS F 0 A_ChangeFlag("NOPAIN", 1)
		POSS FFGGHHIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 A_FaceTarget
		POSS JK 1 A_FaceTarget
		POSS L 0 A_TakeInventory("MP2", 30)
		POSS L 0 A_CustomMissile("ThunderShot2")
		POSS LLLLLLLLLLLLLLLLLLLL 1 A_FaceTarget
		POSS L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	SparkIII:
		POSS F 0 A_JumpIfInventory("MP2", 30, 1)
		Goto See
		POSS F 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS F 0 A_ChangeFlag("NOPAIN", 1)
		POSS FFGGHHIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII 1 A_FaceTarget
		POSS JK 1 A_FaceTarget
		POSS L 0 A_TakeInventory("MP2", 30)
		POSS L 0 A_CustomMissile("SparkShot3")
		POSS LLLLLLLLLLLLLLLLLLLL 1 A_FaceTarget
		POSS L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Pain:
		PLAY A 1 A_ChangeFlag("FRIGHTENED", 1)
		PLAY A 1 A_Pain
		Goto Retreat
	Death:
		POSS M 3 A_NoBlocking
		POSS N 3 A_Scream
		POSS OPQRS 3
		POSS T 0 A_PlaySoundEx("bodydrop3", body)
		POSS TUV 2
		POSS W -1
		Stop
	}
}

actor LG6_GiygasAlly : LG6_NightmareMoonAlly 146
{
	Health 9999
	Mass 0x3FFFFF
	Speed 6
	PainSound "Giygas/Pain"
	DeathSound "Giygas/Death"
	States
	{
	Spawn:
		PLAY ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1 A_Look
		POSS ABCDDEFGHIJJKLMNOPPQRSTUVVWXYZ 1 A_Look
		SPOS ABBCDEFGHHIJKLMNNOPQRSTTUVWXYZZ 1 A_Look
		TROO ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1 A_Look
		SARG ABCDDEFGHIJJKLMNOPPQ 1 A_Look
		Loop
	See:
		SARG RS 1 A_Chase
		SARG T 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SARG TUVWWXYZ 1 A_Chase
		SKUL AB 1 A_Chase
		SKUL C 0 A_SpawnItemEx("Footstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SKUL CCDEFGHII 1 A_Chase
		Loop
	Missile:
		BOSS A 0 A_Jumpifcloser(333, 1)
		Goto See
		BOSS A 0
		BOSS A 0 A_Jump(64, "MissileCrouch")
		BOSS A 0 A_ChangeFlag("NOPAIN", 1)
		BOSS A 0 A_PlaySoundEx("Fire4", weapon)
		BOSS A 0 A_FaceTarget
		BOSS A 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS B 0 A_FaceTarget
		BOSS B 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS C 0 A_FaceTarget
		BOSS C 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS D 0 A_FaceTarget
		BOSS D 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS E 0 A_FaceTarget
		BOSS E 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS F 0 A_FaceTarget
		BOSS F 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS F 0 A_FaceTarget
		BOSS F 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS G 0 A_FaceTarget
		BOSS G 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS H 0 A_FaceTarget
		BOSS H 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS I 0 A_FaceTarget
		BOSS I 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS J 0 A_FaceTarget
		BOSS J 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS K 0 A_FaceTarget
		BOSS K 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS L 0 A_FaceTarget
		BOSS L 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS L 0 A_FaceTarget
		BOSS L 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS M 0 A_FaceTarget
		BOSS M 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS N 0 A_FaceTarget
		BOSS N 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS O 0 A_FaceTarget
		BOSS O 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS P 0 A_FaceTarget
		BOSS P 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS Q 0 A_FaceTarget
		BOSS Q 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS R 0 A_FaceTarget
		BOSS R 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS R 0 A_FaceTarget
		BOSS R 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS S 0 A_FaceTarget
		BOSS S 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS T 0 A_FaceTarget
		BOSS T 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS U 0 A_FaceTarget
		BOSS U 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS V 0 A_FaceTarget
		BOSS V 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS W 0 A_FaceTarget
		BOSS W 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS X 0 A_FaceTarget
		BOSS X 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS X 0 A_FaceTarget
		BOSS X 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		BOSS Y 0 A_FaceTarget
		BOSS Y 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		BOSS Z 0 A_FaceTarget
		BOSS Z 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		SPID A 0 A_FaceTarget
		SPID A 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		SPID B 0 A_FaceTarget
		SPID B 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		SPID C 0 A_FaceTarget
		SPID C 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		SPID D 0 A_FaceTarget
		SPID D 1 A_CustomMissile("MiniFirePuff", 48, 8, 0)
		SPID D 0 A_FaceTarget
		SPID D 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		SPID E 0 A_FaceTarget
		SPID E 1 A_CustomMissile("MiniFirePuffNoLight", 48, 8, 0)
		SPID E 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	MissileCrouch:
		SPID F 0 A_ChangeFlag("NOPAIN", 1)
		SPID F 0 A_PlaySoundEx("Fire4", weapon)
		SPID F 0 A_FaceTarget
		SPID F 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID H 0 A_FaceTarget
		SPID H 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID I 0 A_FaceTarget
		SPID I 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID K 0 A_FaceTarget
		SPID K 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID L 0 A_FaceTarget
		SPID L 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID F 0 A_FaceTarget
		SPID F 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID H 0 A_FaceTarget
		SPID H 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID I 0 A_FaceTarget
		SPID I 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID K 0 A_FaceTarget
		SPID K 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID L 0 A_FaceTarget
		SPID L 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID F 0 A_FaceTarget
		SPID F 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID H 0 A_FaceTarget
		SPID H 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID I 0 A_FaceTarget
		SPID I 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID K 0 A_FaceTarget
		SPID K 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID L 0 A_FaceTarget
		SPID L 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID F 0 A_FaceTarget
		SPID F 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID G 0 A_FaceTarget
		SPID G 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID H 0 A_FaceTarget
		SPID H 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID I 0 A_FaceTarget
		SPID I 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID J 0 A_FaceTarget
		SPID J 1 A_CustomMissile("MiniFirePuff", 24, 8, 0)
		SPID K 0 A_FaceTarget
		SPID K 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID L 0 A_FaceTarget
		SPID L 1 A_CustomMissile("MiniFirePuffNoLight", 24, 8, 0)
		SPID L 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Melee:
		SKUL J 0 A_ChangeFlag("NOPAIN", 1)
		SKUL JKLMNOPQR 1 A_FaceTarget
		SKUL S 0 A_CustomMeleeAttack(random(3800, 3900), "Weapon/Hit", "knife/swing", 0, 1)
		SKUL STUVWXYZ 1 A_FaceTarget
		HEAD ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_FaceTarget
		HEAD Z 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Pain:
		PLAY A 1
		PLAY A 1 A_Pain
		Goto See
	Death:
		SPID M 1 A_NoBlocking
		SPID N 1 A_Scream
		SPID OPQRSTUVWX 1
		SPID Y 1 A_PlaySoundEx("bodydrop3", body)
		SPID Z 1
		CYBR ABCDEFGHIJKLMNOPQRST 1
		CYBR U 1 A_PlaySoundEx("bodydrop3", body)
		CYBR VWYXZ 1
		CPOS ABCDEFGHIJKMNOP 1
		CPOS Q -1
		Stop
	}
}

actor LG6_LunaAlly : LG6_NightmareMoonAlly 147
{
	Health 5000
	Speed 10
	Mass 0x3FFFFF
	States
	{
	See:
		PLAY BBCCDD 1 A_Chase
		PLAY E 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY EFFGGHIIJJKK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LMMNNOOPQQRRSS 1 A_Chase
		PLAY T 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY TUUVV 1 A_Chase
		Loop
	Retreat:
		PLAY B 0 A_SetUserVar("user_retreat", 0)
		PLAY BBCCDD 1 A_Chase
		PLAY E 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY EFFGGHIIJJKK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LMMNNOOPQQRRSS 1 A_Chase
		PLAY T 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY TUUVV 1 A_Chase
		PLAY V 0 A_SetUserVar("user_retreat", user_retreat + 1)
		PLAY V 0 A_JumpIf(user_retreat == 3, 1)
		Goto Retreat+1
		PLAY V 0 A_ChangeFlag("FRIGHTENED", 0)
		Goto See
	Melee:
		PLAY W 0 A_ChangeFlag("FRIGHTENED", 0)
		PLAY W 0 A_ChangeFlag("NOPAIN", 1)
		PLAY WWXXYYZZ 1 A_FaceTarget
		POSS A 1 A_CustomMeleeAttack(random(200, 300), "knife/hit/body", "knife/swing", 0, 1)
		POSS BCDEF 1 A_FaceTarget
		PLAY F 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Missile:
		POSS G 0 A_JumpIfInventory("MP", 10, 1)
		Goto See
		POSS G 0 A_ChangeFlag("FRIGHTENED", 0)
		POSS G 0 A_ChangeFlag("NOPAIN", 1)
		POSS GGHHIIJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJJ 1 A_FaceTarget
		POSS KL 1 A_FaceTarget
		POSS M 0 A_TakeInventory("MP", 10)
		POSS M 0 A_CustomMissile("ThunderShot")
		POSS MMMMMMMMMMMMMMMMMMMM 1 A_FaceTarget
		POSS M 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Pain:
		PLAY A 1 A_ChangeFlag("FRIGHTENED", 1)
		PLAY A 1 A_Pain
		Goto Retreat
	Death:
		POSS N 3 A_NoBlocking
		POSS O 3 A_Scream
		POSS PQRST 3
		POSS U 0 A_PlaySoundEx("bodydrop3", body)
		POSS UVW 2
		POSS X -1
		Stop
	}
}

ACTOR LG6_PinkamenaBoss : LG6_PinkamenaEnemy 148
{
	Health 60000
	Speed 15
	+QUICKTORETALIATE
	States
	{
	Missile:
		SPOS A 0 A_Jump(256, "Spark", "Spark", "Spark", "PoisonCloud")
		Goto See
	Spark:
		SPOS A 0 A_JumpIfInventory("IsPissed", 1, "SparkIII")
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 0 A_CustomMissile("SparkShotEnemy")
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	SparkIII:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 0 A_CustomMissile("SparkShot3Enemy")
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	PoisonCloud:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 1 A_CustomMissile("PoisonFieldShot_Start")
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	Melee:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 1 A_CustomMeleeAttack(random(500, 600), "knife/hit/body", "knife/swing", 0, 1)
		SPOS FGHIJ 1 A_FaceTarget
		Goto Tele
	}
}

ACTOR IsPissed : Inventory
{
	Inventory.Amount 1
	Inventory.MaxAmount 1
}

ACTOR LG6_LunaPrecacheBloody : LG4_RainbowDashPrecacheBloody {}
ACTOR LG6_GiygasPrecacheBloody : LG4_RainbowDashPrecacheBloody {}

ACTOR LG6_LunaDying : LG6_PinkamenaCollapse
{
	DeathSound "luna/death"
	States
	{
	Spawn:
		PLAY A 3
		PLAY B 3 A_Scream
		PLAY CDEFG 3
		PLAY H 0 A_PlaySoundEx("bodydrop3", body)
		PLAY HIJ 2
		PLAY K -1
		Stop
	}
}

ACTOR LG6_NightmareMoonDying : LG6_LunaDying {}

ACTOR LG6_PinkamenaCollapse2 : LG6_PinkamenaCollapse {}
ACTOR LG6_PinkamenaScar2Precache : LG6_PinkamenaScar1Precache {}

ACTOR LG6_LunaDown : LG6_LunaDying
{
	States
	{
	Spawn:
		PLAY A 1
		Loop
	GetUp:
		PLAY A 30
		PLAY B -1
		Stop
	}
}

ACTOR LG6_GiygasWaiting
{
	Health 100
	Radius 16
	Height 64
	MONSTER
	-COUNTKILL
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY ABBCDEEFG 1
		Loop
	}
}

ACTOR LG6_NightmareMoonWaiting : LG6_GiygasWaiting
{
	States
	{
	Spawn:
		PLAY A 1
		Loop
	}
}

ACTOR LG6_LunaMessedUp : LG6_NightmareMoonWaiting {}
ACTOR LG6_LunaBattleEnd : LG6_LunaMessedUp {}

ACTOR FakeTeleportFog
{
	+NOBLOCKMAP
	+NOTELEPORT
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 1
		Stop
	}
}

// Coded by 0xCOBALT [No involment in the project]
// Edited by MrYossarian

ACTOR Thundershot
{
	PROJECTILE
	Damage 0
	Radius 8 Height 8 Speed 160
	Scale  1.0
	+NOGRAVITY +FRIENDLY
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 1
		loop
	Death:
		TNT1 A 1 A_SpawnItem("ThunderFX")
		Stop
	}
}

Actor ThunderFX
{
	DamageType "Friendly"
	+NoInteraction
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Explode(random(400, 500), 138, 0)
		goto Death
	Death:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("ThunderFX_LightObject", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Flare", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Flare", 0, 0, 512, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Bolt", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("ThunderFX_Smoke", 0, 0, 0, 0.01 * Random(-125, 125), 0.01 * Random(-125, 125), 0.01 * Random(25, 245), 0, 128, 0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ThunderFX_Spark", 0, 0, 8, 0.01 * Random(-300, 300), 0.01 * Random(-300, 300), 0.01 * Random(0, 600), 0, 128, 0)
		TNT1 A 0 A_PlaySoundEx("Thunder6", "Voice", 0, 2)
		TNT1 A 30 Radius_Quake(9, 30, 0, 15, 0)
		Stop
	}
}

Actor ThunderFX_LightObject
{
	+NoInteraction
	+DONTSPLASH
	RenderStyle None
	States
	{
	Spawn:
		TNT1 A 1
		TNT1 B 5
		TNT1 A 3
		TNT1 B 4
		TNT1 CDEFGHIJKL 1
		Stop
	}
}

Actor ThunderFX_LightObject2 : ThunderFX_LightObject {}

Actor ThunderFX_Flare
{
	+NoInteraction
	+DONTSPLASH
	RenderStyle Add
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(255, "Flash1", "Flash2", "Flash3", "Flash4")
	Flash1:
		BFLR A 1
		BFLR A 1 Bright A_FadeOut(0.05)
		Wait
	Flash2:
		BFLR B 1
		BFLR B 1 Bright A_FadeOut(0.05)
		Wait
	Flash3:
		BFLR C 1
		BFLR C 1 Bright A_FadeOut(0.05)
		Wait
	Flash4:
		BFLR D 1
		BFLR D 1 Bright A_FadeOut(0.05)
		Wait
	}
}

Actor ThunderFX_Flare2 : ThunderFX_Flare
{
	States
	{
	Flash1:
		LFLR A 1
		LFLR A 1 Bright A_FadeOut(0.05)
		Wait
	Flash2:
		LFLR B 1
		LFLR B 1 Bright A_FadeOut(0.05)
		Wait
	Flash3:
		LFLR C 1
		LFLR C 1 Bright A_FadeOut(0.05)
		Wait
	Flash4:
		LFLR D 1
		LFLR D 1 Bright A_FadeOut(0.05)
		Wait
	}
}

Actor ThunderFX_Bolt
{
	+NoInteraction
	+DONTSPLASH
	RenderStyle Add
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(255, "Flash1", "Flash2", "Flash3")
	Flash1:
		THUN A 1
		THUN A 1 Bright A_FadeOut(0.04)
		Wait
	Flash2:
		THUN B 1
		THUN B 1 Bright A_FadeOut(0.04)
		Wait
	Flash3:
		THUN C 1
		THUN C 1 Bright A_FadeOut(0.04)
		Wait
	}
}

Actor ThunderFX_Bolt2 : ThunderFX_Bolt
{
	States
	{
	Flash1:
		LHUN A 1
		LHUN A 1 Bright A_FadeOut(0.04)
		Wait
	Flash2:
		LHUN B 1
		LHUN B 1 Bright A_FadeOut(0.04)
		Wait
	Flash3:
		LHUN C 1
		LHUN C 1 Bright A_FadeOut(0.04)
		Wait
	}
}

Actor ThunderFX_Spark
{
	+Missile
	-NoGravity
	+DONTSPLASH
	Gravity 0.1
	Radius 4
	Height 8
	RenderStyle Add
	Scale 0.0125
	States
	{ 
	Spawn:
		BFLR A 1 Bright
		Wait
	}
}

Actor ThunderFX_Spark2 : ThunderFX_Spark
{
	States
	{ 
	Spawn:
		LFLR A 1 Bright
		Wait
	}
}

Actor ThunderFX_Smoke
{
	+NoInteraction
	+DONTSPLASH
	Alpha 0.9
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(255, "Cloud1", "Cloud2", "Cloud3", "Cloud4")
	Cloud1:
		SMOG A 1 A_FadeOut(0.0125)
		Wait
	Cloud2:
		SMOG B 1 A_FadeOut(0.0125)
		Wait
	Cloud3:
		SMOG C 1 A_FadeOut(0.0125)
		Wait
	Cloud4:
		SMOG D 1 A_FadeOut(0.0125)
		Wait
	}
}

ACTOR Thundershot2 : Thundershot
{
	States
	{
	Death:
		TNT1 A 1 A_SpawnItem("ThunderFX2")
		Stop
	}
}

Actor ThunderFX2 : ThunderFX
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Explode(random(750, 850), 138, 0)
		goto Death
	Death:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("ThunderFX_LightObject2", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Flare2", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Flare2", 0, 0, 512, 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("ThunderFX_Bolt2", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("ThunderFX_Smoke", 0, 0, 0, 0.01 * Random(-125, 125), 0.01 * Random(-125, 125), 0.01 * Random(25, 245), 0, 128, 0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ThunderFX_Spark2", 0, 0, 8, 0.01 * Random(-300, 300), 0.01 * Random(-300, 300), 0.01 * Random(0, 600), 0, 128, 0)
		TNT1 A 0 A_PlaySoundEx("Thunder9", "Voice", 0, 2)
		TNT1 A 30 Radius_Quake(9, 30, 0, 30, 0)
		Stop
	}
}


ACTOR PoisonFieldShot_Start
{
	Gravity 2000
	PROJECTILE
	damage 0
	Radius 8
	Height 8
	Speed 160
	Scale  1.0
	+NOGRAVITY +friendly +FLOORCLIP +DONTSPLASH
	DeathSound "Poison"
	States
	{
	Spawn:
		TNT1 A 1 
		loop
	Death:
		TNT1 A 0 A_Scream
		TNT1 A 1 A_ChangeFlag(NOGRAVITY,0)
		TNT1 A 4
		TNT1 A 1 A_SpawnItemEx("PoisonFieldShot", 0, 0, 4, 1, 0, 1, 0, 0, 0)
		Stop
	}
}

ACTOR PoisonFieldShot
{
	Radius 3
	Height 3
	Speed 12
	Scale 0.5
	PROJECTILE
	+NOGRAVITY +RIPPER +BLOODLESSIMPACT +FLOORCLIP +DONTSPLASH
	States
	{
	Spawn:
		TNT1 AAA 0 A_ChangeFlag(FLOORHUGGER,1)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 0)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 16)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 32)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 48)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 64)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 80)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 96)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 112)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 128)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 144)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 160)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 176)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 192)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 208)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 224)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 240)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 256)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 272)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 288)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 304)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 320)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 336)
		TNT1 A 0 A_CustomMissile("PoisonFieldShot2", 0, Random(-4, 4), 352)
		Goto Death
	Death:
		TNT1 A 0
		Stop
	}
}

ACTOR PoisonFieldShot2
{
	Radius 3 Height 3 Speed 12
	Scale 0.5
	PROJECTILE
	+NOGRAVITY +RIPPER +BLOODLESSIMPACT +FLOORCLIP +DONTSPLASH
	States
	{
	Spawn:
		TNT1 AAA 0 A_ChangeFlag(FLOORHUGGER,1)
		TNT1 A 1 A_Jump(64, 4)
		TNT1 A 1 A_Jump(64, 3)
		TNT1 A 1 A_Jump(64, 2)
		TNT1 A 1
		TNT1 A 0
		Goto Death
	Death:
		TNT1 A 0 A_CustomMissile("PoisonField", Random(0, 12) + 24, Random(-4, 4), 48)
		Stop
	}
}

ACTOR PoisonField
{
	+PAINLESS
	+NOBLOCKMAP +BLOODLESSIMPACT +NOCLIP +MISSILE +RANDOMIZE +NOGRAVITY +RIPPER +FLOATBOB +STRIFEDAMAGE +DONTSPLASH
	Damage 1
	floatspeed 16
	Scale 0.96
	Speed 0
	RENDERSTYLE ADD
	States
	{
	Spawn:
		PSNE AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 2 A_Explode(1, 16)
		stop
	}
}

ACTOR MiniFirePuff
{
	Scale 1.5
	Spawnid 251
	Radius 8
	Height 6
	PROJECTILE
	Speed 15
	Damage (random(50, 150))
	+FIREDAMAGE
	+DONTSPLASH
	DamageType "Friendly"
	States
	{
	Spawn:
		TNT1 A 3
		TNT1 A 0 A_Jump(128, 1)
		TNT1 A 1 Bright
		TNT1 A 2 BRIGHT A_CustomMissile("SFX_Fire_xs", 2, 0, Random(120, -120), 2, Random(96, -96))
		TNT1 AAA 2 BRIGHT A_CustomMissile("SFX_NoLight_Fire_xs", 2, 0, Random(120, -120), 2, Random(96, -96))
		TNT1 AA 2 BRIGHT A_CustomMissile("SFX_NoLight_Fire_s", 2, 0, Random(120, -120), 2, Random(96, -96))
		TNT1 A 2 BRIGHT A_CustomMissile("SFX_Fire_s", 2, 0, Random(120, -120), 2, Random(96, -96))
		TNT1 AAA 2 BRIGHT A_CustomMissile("SFX_NoLight_Fire", 2, 0, Random(120, -120), 2, Random(96, -96))
		TNT1 AA 2 BRIGHT A_CustomMissile("SFX_NoLight_Fire_s", 2, 0, Random(120, -120), 2, Random(96, -96))
	Death:
		TNT1 A 1 BRIGHT
		Stop
	}

}

ACTOR MiniFirePuffNoLight : MiniFirePuff {}

Actor SFX_Fire_xs
{
	Projectile
	Scale 0.2
	Radius 0 Height 0 Speed 1
	-Solid -NoClip
	+NoGravity +FORCEXYBILLBOARD +NOINTERACTION
	+DONTSPLASH
	RenderStyle Add Alpha 1.0
	States
	{
	Spawn:
		BOOM ABCDEFGHIJKLMNOPPPPPPPPPP 1 BRIGHT A_FadeOut(0.04)
		Stop
	}

}

Actor SFX_Fire_s : SFX_Fire_xs
{
	Scale 0.3
}

Actor SFX_NoLight_Fire_xs : SFX_Fire_xs {}
Actor SFX_NoLight_Fire_s : SFX_Fire_s {}

Actor SFX_NoLight_Fire : SFX_Fire_xs
{
	Scale 0.4
}
// End

// Coded by Raven Software [No involment in the project]
// Edited by MrYossarian
actor SparkShotSmoke
{
	+NOBLOCKMAP
	+NOGRAVITY
	+SHADOW
	+NOTELEPORT
	+CANNOTPUSH
	+DONTSPLASH
	RenderStyle "Translucent"
	Alpha 0.6
	States
	{
	Spawn:
		MWND CDCD 4
		Stop
	}
}

actor SparkShot : FastProjectile
{
	Speed 284
	Radius 12
	Height 8
	Damage (random(250, 350))
	MissileType "SparkShotSmoke"
	+CANNOTPUSH
	+SPAWNSOUNDSOURCE
	+DONTSPLASH
	SeeSound "Laser/Missile1"
	DeathSound "Laser/Missile/Impact"
	DamageType "Friendly"
	States
	{
	Spawn:
		MWND CD 4 BRIGHT
		Loop
	Death:
		MWND E 4 BRIGHT
		MWND F 3 BRIGHT
		MWND G 4 BRIGHT
		MWND H 3 BRIGHT
		MWND I 4 BRIGHT
		Stop
	}
}
// End

actor SparkShotSmoke2 : SparkShotSmoke
{
	States
	{
	Spawn:
		LWND CDCD 4
		Stop
	}
}

actor SparkShotSmoke3 : SparkShotSmoke
{
	States
	{
	Spawn:
		RWND CDCD 4
		Stop
	}
}

actor SparkShot2 : SparkShot
{
	Speed 234
	Damage (random(650, 750))
	MissileType "SparkShotSmoke2"
	SeeSound "Laser/Missile2"
	States
	{
	Spawn:
		LWND CD 4 BRIGHT
		Loop
	Death:
		LWND E 4 BRIGHT
		LWND F 3 BRIGHT
		LWND G 4 BRIGHT
		LWND H 3 BRIGHT
		LWND I 4 BRIGHT
		Stop
	}
}

actor SparkShot3 : SparkShot
{
	Speed 184
	Damage (random(1200, 1300))
	MissileType "SparkShotSmoke3"
	SeeSound "Laser/Missile3"
	States
	{
	Spawn:
		RWND CD 4 BRIGHT
		Loop
	Death:
		RWND E 4 BRIGHT
		RWND F 3 BRIGHT
		RWND G 4 BRIGHT
		RWND H 3 BRIGHT
		RWND I 4 BRIGHT
		Stop
	}
}

ACTOR SparkShotEnemy : SparkShot
{
	Speed 234
	Damage (random(150, 250))
	DamageType "Normal"
}

ACTOR SparkShot3Enemy : SparkShot3
{
	Damage (random(550, 650))
	DamageType "Normal"
}

// MAP12

// Coded by Realm667 [No involment in the project]
// Edited by MrYossarian
Actor RainSpawner 149
{
	Radius 1
	Height 1
	+NoClip
	+ClientSideOnly
	+SpawnCeiling
	+NoGravity
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 2 A_SpawnItemEx("RainDrop", Random(-Args[0], Args[0]), Random(-Args[0], Args[0]), -2, 0, 0, 0, 0, 128, Args[1])
		Loop
	}
}

Actor RainDrop
{
	+Missile
	+NoBlockMap
	-NoGravity
	+DONTSPLASH
	Height 2
	Radius 2
	Renderstyle Translucent
	Alpha 0.6
	States
	{
	Spawn:
		RNDR A 1 A_JumpIf(WaterLevel > 0, "Death")
		Loop
	Death:
		RNDR BCDEFGH 3 A_FadeOut(0.15)
		Stop
	}
}
// End

ACTOR LG6_LunaCollapse : LG6_PinkamenaCollapse
{
	PainSound "luna/pain"
	States
	{
	Spawn:
		PLAY ABCDEFG 3
		PLAY H 0 A_Pain
		PLAY H 0 A_PlaySoundEx("bodydrop3", body)
		PLAY HIJ 2
		PLAY K -1
		Stop
	}
}

// Luna Game 7
// MAP01
ACTOR LG7_Bed 150
{
	Radius 32
	Height 64
	+SOLID
	States
	{
	Spawn:
		PLAY A -1
		Stop
	}
}

ACTOR LG7_Crate : LG7_Bed 151
{
	Radius 28
	Height 42
}

ACTOR LG7_CrystalBall : LG7_Bed 152
{
	Scale 0.5
	Radius 8
	Height 16
	States
	{
	Spawn:
		BALL A -1
		Stop
	}
}

ACTOR LG7_Zecora : LG6_PinkamenaSpeak 153
{
	States
	{
	Spawn:
		PLAY A 1
		Loop
	See:
		Goto Spawn
	GiveItem:
		PLAY BCDEF 2
		PLAY FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 1
	GiveItemEnd:
		PLAY GHIJK 2
		Goto Spawn
	}
}

ACTOR LG7_Luna 157
{
	Health 100
	Radius 16
	CameraHeight 41
	Height 56
	Speed 2
	Mass 0x3FFFFF
	PainChance 256
	MONSTER
	-COUNTKILL
	+FLOORCLIP
	+DONTSPLASH
	PainSound "Luna/Pain"
	DeathSound "Luna/Death"
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Loop
	See:
		PLAY B 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY BCDEFGHIJK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LMNOPQRSTU 1 A_Chase
		Loop
	Sleeping:
		PLAY V 1
		Loop
	GetUp:
		PLAY V 20
		PLAY A 1
		Goto Spawn
	LookSword:
		PLAY WXY 3
	LookSwordLoop:
		PLAY Z 1
		Loop
	LookSwordEnd:
		PLAY YXW 3
		Goto Spawn
	Knock:
		POSS LMNOPQ 2
		POSS S 0 A_PlaySound("knock", CHAN_BODY, 1.0, FALSE, ATTN_NORM)
		POSS ST 2
		POSS UVTUV 3
		POSS WXYZ 2
		SPOS ABC 2
		Goto Spawn
	LookDown:
		SPOS D 1
		Loop
	Pain:
		PLAY A 1
		TNT1 A 0 A_Pain
		Goto Spawn
	Death:
		POSS A 3 A_NoBlocking
		POSS B 3 A_Scream
		POSS CDEFG 3
		POSS H 0 A_PlaySoundEx("bodydrop3", body)
		POSS HIJ 2
		POSS K -1
		Stop
	}
}

ACTOR LG7_PinkamenaZecora : LG7_Luna
{
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_Look
		POSS AABBCCDDEEDDCCBBAA 1 A_Look
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_Look
		Loop
	See:
		POSS FGHIJKLMN 1 A_Chase
		POSS O 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS OPQRSTUVWXYZ 1 A_Chase
		SPOS A 1 A_Chase
		SPOS B 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS BCDE 1 A_Chase
		SPOS F 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		SPOS FGHI 1 A_Chase
		POSS F 1 A_Chase
		Loop
	}
}

// MAP09
ACTOR LG7_TwilightSparkle_SECRET : LG7_Luna 154
{
	Height 64
	PainChance 0
	Mass 0x3FFFFF
	+NODAMAGE
	+USESPECIAL
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	See:
		Stop
	Death:
		POSS F 0 A_NoBlocking
		POSS F -1
		Stop
	}
}

ACTOR LG7_Moon : CustomInventory 155
{
	Inventory.PickupMessage "You've found a Moon!"
	Inventory.PickupSound "CHIMES"
	+INVENTORY.NOSCREENFLASH
	+INVENTORY.ALWAYSPICKUP
	+FLOATBOB
	+NOGRAVITY
	States
	{
	Spawn:
		MOON A -1 BRIGHT
		Stop
	Pickup:
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 0 A_SpawnDebris("WhiteParticle")
		TNT1 A 12 BRIGHT
		Stop
	}
}

ACTOR WhiteParticle : WallSpark
{
	Radius 6
	Height 12
	Scale 0.32
	Gravity 0.5
	+FORCEXYBILLBOARD
	States
	{
		WPAR AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright A_FadeOut(0.02)
		Stop
	}
}

ACTOR LG7_PinkamenaMoon : LG7_TwilightSparkle_SECRET
{
	-USESPECIAL
}

ACTOR LG7_LunaCreepy : LunaPlayer
{
	+PLAYERPAWN.CROUCHABLEMORPH
}

ACTOR LG7_PinkamenaFollow : LG7_PinkamenaZecora
{
	Speed 4
	Height 64
	MeleeRange 80
	+PUSHABLE
	States
	{
	Melee:
		PLAY A 1 A_FaceTarget
		Goto See
	Waiting:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1 A_FaceTarget
		POSS AABBCCDDEEDDCCBBAA 1 A_FaceTarget
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1 A_FaceTarget
		Loop
	}
}

// MAP04
ACTOR LG7_Cannon 156
{
	Radius 6
	Height 14
	Mass 0x3FFFF
	MONSTER
	-SHOOTABLE
	+FRIENDLY
	States
	{
	Spawn:
		PLAY A 1 A_Look
		Loop
	See:
		PLAY A 1 A_Chase("", "Missile", CHF_DONTMOVE | CHF_NODIRECTIONTURN)
		Loop
	Missile:
		PLAY A 0 A_FaceTarget
		PLAY A 20 A_PlaySound("Cannon/Cock", CHAN_BODY, 1.0, FALSE, ATTN_NONE)
		PLAY A 0 A_PlaySound("Cannon/Fire", CHAN_BODY, 1.0, FALSE, ATTN_NONE)
		PLAY A 35 A_CustomRailgun(350, 0, FFFFFF, FFFFFF, RGF_SILENT | RGF_NOPIERCING)
		Goto See
	}
}

// Coded by Gothic [No involment in this project]
// Edited by MrYossarian
Actor ArrowProjectile
{
	Radius 2
	Height 2
	Damage (random(1, 3) * 100)
	Speed 36
	PROJECTILE
	+DONTREFLECT
	+ROCKETTRAIL
	+PUFFONACTORS
	ProjectileKickBack 1
	Scale 0.8
	SeeSound "Arrow/Fire"
	DeathSound "Arrow/Hit"
	States
	{
	Spawn:
		ARRW A 1
		Loop
	Death:
		TNT1 A 1 A_Scream
		Stop
	}
}

Actor CobwebBalloon : ExclamationBalloon
{
	States
	{
	Spawn:
		EXCL A 6
		COBW ABCD 6
		COBW ABC 6
		Stop
	}
}

Actor LG7_GlitchingActor 158
{
	Radius 16
	Height 64
	+SOLID
	+NOGRAVITY
	States
	{
	Spawn:
		ACT1 A 0 A_Jump(256, "Actor1", "Actor2", "Actor3", "Actor4", "Actor5", "Actor6", "Actor7", "Actor8", "Actor9", "Actor10", "Actor11", "Actor12", "Actor13", "Actor14", "Actor15", "Actor16", "Actor17", "Actor18", "Actor19", "Actor20")
		Goto Actor1
	Actor1:
		ACT1 A Random(1, 35)
		Goto Spawn
	Actor2:
		ACT2 A Random(1, 35)
		Goto Spawn
	Actor3:
		ACT3 A Random(1, 35)
		Goto Spawn
	Actor4:
		ACT4 A Random(1, 35)
		Goto Spawn
	Actor5:
		ACT5 A Random(1, 35)
		Goto Spawn
	Actor6:
		ACT6 A Random(1, 35)
		Goto Spawn
	Actor7:
		ACT7 A Random(1, 35)
		Goto Spawn
	Actor8:
		ACT8 A Random(1, 35)
		Goto Spawn
	Actor9:
		ACT9 A Random(1, 35)
		Goto Spawn
	Actor10:
		AT10 A Random(1, 35)
		Goto Spawn
	Actor11:
		AT11 A Random(1, 35)
		Goto Spawn
	Actor12:
		AT12 A Random(1, 35)
		Goto Spawn
	Actor13:
		AT13 A Random(1, 35)
		Goto Spawn
	Actor14:
		AT14 A Random(1, 35)
		Goto Spawn
	Actor15:
		AT15 A Random(1, 35)
		Goto Spawn
	Actor16:
		AT16 A Random(1, 35)
		Goto Spawn
	Actor17:
		AT17 A Random(1, 35)
		Goto Spawn
	Actor18:
		AT18 A Random(1, 35)
		Goto Spawn
	Actor19:
		AT19 A Random(1, 35)
		Goto Spawn
	Actor20:
		AT20 A Random(1, 35)
		Goto Spawn
	}
}

ACTOR LG7_PinkamenaSpeak : LG6_PinkamenaSpeak 159
{
	States
	{
	Facepalm:
		POSS FGHIJ 2
		POSS K 30
		POSS L 30
		Goto Facepalm+5
	}
}

// MAP06
ACTOR LG7_Applejack : LG7_PinkamenaZecora 160
{
	Speed 4
}

ACTOR LG7_RainbowDash : LG7_Applejack 161 {}
ACTOR LG7_TwilightSparkle : LG7_Applejack 162 {}
ACTOR LG7_Rarity : LG7_Applejack 163 {}
ACTOR LG7_Fluttershy : LG7_Applejack 164 {}
ACTOR LG7_PinkiePie : LG7_Applejack 165
{
	CameraHeight 36
	+DONTSPLASH
}

// MAP07
ACTOR LG7_PinkamenaBoss : LG6_PinkamenaBoss 166
{
	+DROPOFF
	+DONTSPLASH
	States
	{
	ClearTarget:
		PLAY A 1 A_ClearTarget
		Goto Spawn
	}
}

actor LG7_NightmareMoonAlly : LG6_NightmareMoonAlly 167
{
	+QUICKTORETALIATE
	+DROPOFF
	+AVOIDMELEE
	+DONTSPLASH
	States
	{
	ClearTarget:
		PLAY A 0 A_ClearTarget
		PLAY A 1
		Goto ClearTarget+1
	}
}

actor LG7_GiygasAlly : LG6_GiygasAlly 168
{
	+QUICKTORETALIATE
	+DROPOFF
	+DONTSPLASH
	States
	{
	ClearTarget:
		PLAY A 0 A_ClearTarget
		PLAY ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1
		POSS ABCDDEFGHIJJKLMNOPPQRSTUVVWXYZ 1
		SPOS ABBCDEFGHHIJKLMNNOPQRSTTUVWXYZZ 1
		TROO ABCDEFFGHIJKLLMNOPQRRSTUVWXXYZ 1
		SARG ABCDDEFGHIJJKLMNOPPQ 1
		Goto ClearTarget+1
	HealSpell:
		POSS FFGGHHIIIIIJKLLLLLLLLLL 1
		Goto ClearTarget+1
	}
}

actor LG7_LunaAlly : LG6_LunaAlly
{
	+QUICKTORETALIATE
	+DROPOFF
	+AVOIDMELEE
	+DONTSPLASH
	States
	{
	ClearTarget:
		PLAY A 0 A_ClearTarget
		PLAY A 1
		Goto ClearTarget+1
	HealSpell:
		POSS GGHHIIJJJJJKLMMMMMMMMMM 1
		Goto ClearTarget+1
	}
}

ACTOR LG7_CannonTurret : LG7_Cannon
{
	Health 100
	PainChance 256
	+SHOOTABLE
	-FRIENDLY
	+NOBLOOD
	+LOOKALLAROUND
	+QUICKTORETALIATE
	States
	{
	Missile:
		PLAY A 0 A_ChangeFlag("NOPAIN", 1)
		PLAY A 0 A_PlaySound("Cannon/Cock", CHAN_BODY, 1.0, FALSE, ATTN_NONE)
		PLAY AAAAAAAAAAAAAAAAAAAA 1 A_FaceTarget
		PLAY A 0 A_PlaySound("Cannon/Fire", CHAN_BODY, 1.0, FALSE, ATTN_NONE)
		PLAY A 0 A_CustomRailgun(random(50, 150), 0, FFFFFF, FFFFFF, RGF_SILENT | RGF_NOPIERCING)
		PLAY AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_FaceTarget
		PLAY A 0 A_ChangeFlag("NOPAIN", 0)
		Goto See
	Pain:
		PLAY A 1
		Goto See
	Death:
		TNT1 A 0 A_SpawnItem("SFX_Explosion_m_Base", 0, 8)
		TNT1 A 0 A_NoBlocking
		TNT1 A -1
		Stop
	}
}

ACTOR LG7_PinkamenaCollapse : LG6_PinkamenaCollapse {}

ACTOR LG7_NeoPinkamena : LG7_PinkamenaBoss
{
	Health 120000
	Radius 32
	Height 112
	Speed 8
	States
	{
	Waiting:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	See:
		POSS FFGGH 1 A_Chase
		POSS I 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS IIJJKKLLMNNOO 1 A_Chase
		POSS P 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS PPQRRSSTT 1 A_Chase
		POSS U 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS UVVWWXXY 1 A_Chase
		POSS Z 0 A_SpawnItemEx("PonyFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		POSS ZZ 1 A_Chase
		Loop
	Missile:
		SPOS A 0 A_Jump(256, "SparkII", "Spark8Dir", "Arrows", "PoisonCloud")
		Goto See
	SparkII:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 0 A_CustomMissile("SparkShot2Enemy", 48)
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	Spark8Dir:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 0)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 45)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 90)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 135)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 180)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 225)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 270)
		SPOS E 0 A_CustomMissile("SparkShotEnemy", 48, 0, 315)
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	Arrows:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 0 A_CustomMissile("ArrowProjectileSeeker", 48, -8)
		SPOS E 0 A_CustomMissile("ArrowProjectileSeeker", 48, 8)
		SPOS E 0 A_CustomMissile("ArrowProjectileSeeker", 60, -8)
		SPOS E 0 A_CustomMissile("ArrowProjectileSeeker", 60, 8)
		SPOS FGHIJ 1 A_FaceTarget
		Goto See
	Melee:
		SPOS AABBCCDD 1 A_FaceTarget
		SPOS E 1 A_CustomMeleeAttack(random(1000, 1200), "knife/hit/body", "knife/swing", 0, 1)
		SPOS FGHIJ 1 A_FaceTarget
		Goto Tele
	Death:
		SPOS KLMNOPQ 6
		SPOS R 0 A_PlaySoundEx("bodydrop3", body)
		SPOS RST 4
		SPOS U -1
		Stop
	}
}

ACTOR SparkShot2Enemy : SparkShot2
{
	Damage (random(350, 450))
	DamageType "Normal"
}

ACTOR SFX_Explosion_m_Base_Harmless : SFX_Explosion_m_Base
{
	Damage 0
	States
	{	
	Spawn:
		TNT1 A 0 Radius_Quake(3, 28, 0, 4, 0)
		TNT1 A 0 A_PlaySound("weapons/rocklx", CHAN_BODY, 1.0, FALSE, ATTN_NONE)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 2, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 80, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", 160, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -80, 0, 345, 2, 0)			
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 0, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 15, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 30, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 45, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 60, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 75, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 90, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 105, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 120, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 135, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 150, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 165, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 180, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 195, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 210, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 225, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 240, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 255, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 270, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 285, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 300, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 315, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 330, 2, 0)
		TNT1 A 0 A_CustomMissile("SFX_Shockwave", -160, 0, 345, 2, 0)
		TNT1 A 1 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_ExpFire_light", 0, 0, 0, 0, 0, 0, 0, 128, 0)			
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_xxs", 0, 0, 0, 0.3 * Random(-20, 20), 0.3 * Random(-20, 20), 0.3 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_xs", 0, 0, 0, 0.25 * Random(-20, 20), 0.25 * Random(-20, 20), 0.25 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_s", 0, 0, 0, 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire_s", 0, 0, 0, 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)					
		TNT1 AAAA 1 A_SpawnItemEx("SFX_NoLight_ExpFire_long", 0, 0, 0, 0.003 * Random(-200, 200), 0.003 * Random(-200, 200), 0.003 * Random(-200, 200), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_ExpFire_light", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 A 1 A_SpawnItemEx("SFX_NoLight_ExpFire_long", 0, 0, 0, 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.01 * Random(-20, 20), 0.01 * Random(-20, 20), 0.01 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.015 * Random(-20, 20), 0.015 * Random(-20, 20), 0.015 * Random(-20, 20), 0, 128, 0)
		TNT1 A 0 A_SpawnItemEx("SFX_SmokeMedium_Long", 0, 0, 0, 0.03 * Random(-20, 20), 0.03 * Random(-20, 20), 0.03 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeMedium", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeSmall", 0, 0, 0, 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0.15 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_SmokeSmall", 0, 0, 0, 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0.2 * Random(-20, 20), 0, 128, 0)
		TNT1 AAAA 1 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0.01 * Random(-200, 200), 0, 128, 0)
		TNT1 AAAA 0 A_SpawnItemEx("SFX_NoLight_ExpFire", 0, 0, 0, 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0.1 * Random(-20, 20), 0, 128, 0)
		TNT1 A 5
		Stop
	}
}

Actor ArrowProjectileSeeker : ArrowProjectile
{
	+SEEKERMISSILE
	States
	{
	Spawn:
		ARRW A 1 A_SeekerMissile(2, 4, SMF_PRECISE)
		Loop
	}
}

Actor IdeaBalloon : ExclamationBalloon
{
	States
	{
	Spawn:
		EXCL A 6
		IDEA ABCD 6
		IDEA CD 6
		Stop
	}
}

actor LG7_LunaPlayerBattle : LG6_LunaPlayerBattle
{
	States
	{
	HealSpell:
		SPOS VVWWXXYYYYYZ 1
		CPOS ABBBBBBBBBB 1
		Goto See
	}
}

actor LG7_NightmareMoonPlayer : LG6_NightmareMoonPlayer
{
	States
	{
	HealSpell:
		POSS PPQQRRSSSSSTUVVVVVVVVVV 1
		Goto See
	}
}

actor HealEffect
{
	Scale 1.5
	+NOBLOCKMAP
	+NOTELEPORT
	+NOGRAVITY
	RenderStyle Add
	States
	{
	Spawn:
		HEAL ABABCDEFGHIJ 4 Bright
		Stop
	}
}

actor LG7_PinkamenaMinion : LG6_PinkamenaEnemy 169
{
	Scale 0.5
	Health 350
	Radius 8
	Height 28
	Speed 25
	PainChance 256
	DeathSound "body/explode"
	+QUICKTORETALIATE
	+ALWAYSFAST
	+LOOKALLAROUND
	+DONTSPLASH
	+DROPOFF
	States
	{
	See:
		POSS FFGGHIIJJKKLLMNNOOPPQRRSSTTUVVWWXXYZZ 1 Fast A_Chase
		Loop
	Melee:
		SPOS AABBCCDD 1 Fast A_FaceTarget
		SPOS E 1 Fast A_CustomMeleeAttack(random(1, 4) * 20, "knife/hit/body", "knife/swing", 0, 1)
		SPOS FGHIJ 1 Fast A_FaceTarget
		Goto See
	Death:
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 A_PlaySound("body/explode")
		TNT1 A 0 A_SpawnDebris("rGib19_small",0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s_small",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s_small",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s_small",0,0,0,0)
		TNT1 A 0 A_SpawnItem("rxGibGenerator_s_small",0,0,0,0)
		TNT1 A -1
		Stop
	}
}

actor rxGibGenerator_s_small
{ 
	States 
	{ 
	Spawn: 
		TNT1 A 0 
		TNT1 A 1 A_SpawnDebris("rxGib9s_small") 
		TNT1 A 0 A_Jump(128, 8) 
		TNT1 A 0 A_Jump(128, 4) 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib1_small")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib2_small")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib3_small")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib4_small")
		stop 
		TNT1 A 0 A_Jump(128, 4) 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib5_small")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib6_small")
		stop 
		TNT1 A 0 A_Jump(128, 2) 
		TNT1 A 1 A_SpawnDebris("rxGib7_small")
		stop 
		TNT1 A 1 A_SpawnDebris("rxGib8_small")
		stop 
	} 
} 

actor rxGib1_small : rxGib1
{
	Scale 0.5
}

actor rxGib2_small : rxGib2
{
	Scale 0.5
}

actor rxGib3_small : rxGib3
{
	Scale 0.5
}

actor rxGib4_small : rxGib4
{
	Scale 0.5
}

actor rxGib5_small : rxGib5
{
	Scale 0.5
}

actor rxGib6_small : rxGib6
{
	Scale 0.5
}

actor rxGib7_small : rxGib7
{
	Scale 0.5
}

actor rxGib8_small : rxGib8
{
	Scale 0.5
}

actor rxGib9s_small : rxGib9s
{
	Scale 0.5
}

actor rGib19_small : rGib19
{
	Scale 0.5
}

actor HealParticle
{
	Scale 0.5
	+NOGRAVITY
	+NOBLOCKMAP
	+ALLOWPARTICLES
	+RANDOMIZE
	+FLOORCLIP
	RenderStyle Translucent
	Alpha 1.0
	Mass 5
	States
	{
	Spawn:
		HEAL K 4 A_ChangeVelocity(0, 0, 4, CVF_REPLACE)
		HEAL A 0 bright A_FadeOut(0.1)
		loop
	}
}

ACTOR LG7_PinkamenaScar3Precache : LG6_PinkamenaScar1Precache {}

// MAP08
ACTOR LG7_PinkamenaDown
{
	+CORPSE
	+DONTSPLASH
	States
	{
	Spawn:
		PLAY A 1
		Loop
	Crash:
		PLAY B 0 A_PlaySound("Pony/Movement/Land", CHAN_BODY)
		PLAY BCDEFGH 3
		PLAY I 0 A_PlaySoundEx("bodydrop3", body)
		PLAY IJK 2
		PLAY L -1
		Stop
	Begging:
		PLAY MN 60
		Loop
	}
}

ACTOR LG7_PinkamenaScar4Precache : LG6_PinkamenaScar1Precache {}

// Luna Game END
// MAP01
ACTOR LGEnd_Luna : LG7_Luna 170
{
	Speed 6
	States
	{
	LookRight:
		PLAY W 1
		Loop
	LookLeft:
		PLAY X 1
		Loop
	}
}

ACTOR LGEnd_LunaSlow : LG7_Luna
{
	Speed 1
	States
	{	
	See:
		PLAY B 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY BBCCDDEEFFGGHHIIJJKK 1 A_Chase
		PLAY L 0 A_SpawnItemEx("LunaFootstep", 0, 0, 0, 0, 0, -20, 0,0, 0)
		PLAY LLMMNNOOPPQQRRSSTTUU 1 A_Chase
		Loop
	SleepStart:
		PLAY A 20
		Goto Sleeping
	}
}

ACTOR LGEnd_LunaDark 171
{
	Radius 16
	Height 64
	+USESPECIAL
	MONSTER
	Activation THINGSPEC_ClearSpecial
	States
	{
	Spawn:
		PLAY A 1
		Loop
	}
}

ACTOR LGEnd_RainbowDashDark : LGEnd_LunaDark 172
{
	States
	{
	Spawn:
		PLAY AABBCCDDEEFFGGHHIIJKKLLMMNNOOPPQQRRSSTUUVVWWXXYYZZ 1
		POSS AABBCCDDEEDDCCBBAA 1
		PLAY ZZYYXXWWVVUUTSSRRQQPPOONNMMLLKKJIIHHGGFFEEDDCCBBAA 1
		Loop
	}
}

ACTOR LGEnd_RarityDark : LGEnd_RainbowDashDark 173 {}
ACTOR LGEnd_TwilightSparkleDark : LGEnd_RainbowDashDark 174 {}
ACTOR LGEnd_PinkiePieDark : LGEnd_RainbowDashDark 175 {}
ACTOR LGEnd_ApplejackDark : LGEnd_RainbowDashDark 176 {}
ACTOR LGEnd_CelestiaDark : LGEnd_LunaDark 177 {}
ACTOR LGEnd_FluttershyDark : LGEnd_RainbowDashDark 178 {}

ACTOR LGEnd_NightmareMoon : LG6_NightmareMoonCutscene 179
{
	Height 64
	Radius 24
	+USESPECIAL
	Activation THINGSPEC_CLEARSPECIAL
}
